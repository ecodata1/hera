[{"path":"https://ecodata1.github.io/hera/articles/bankside-consistency.html","id":"welcome","dir":"Articles","previous_headings":"","what":"Welcome","title":"Bankside Consistency","text":"document created following generic assessment guidance. Rapid Assessment Technique (RAT) rsults bankside invertebrates analysis check consistency Water Body Status.","code":""},{"path":[]},{"path":"https://ecodata1.github.io/hera/articles/bankside-consistency.html","id":"data","dir":"Articles","previous_headings":"","what":"Data","title":"Bankside Consistency","text":"","code":"#> # A tibble: 1 Ã— 26 #>   parameter       question response label sample_id location_id location_descriâ€¦ #>   <chr>           <chr>    <chr>    <chr> <chr>     <chr>       <chr>            #> 1 River Invertebâ€¦ Taxon aâ€¦ 12       Baetâ€¦ 1234      8175        Eden at Kemback  #> # â€¦ with 19 more variables: grid_reference <chr>, water_body_id <chr>, #> #   year <chr>, date_taken <chr>, units <lgl>, min <lgl>, max <lgl>, #> #   d_f_source <dbl>, Altitude <dbl>, NGR <chr>, logaltbar <dbl>, #> #   log_area <dbl>, disch_cat <dbl>, slope <dbl>, chalk <dbl>, clay <dbl>, #> #   hardrock <dbl>, limestone <dbl>, peat <dbl>"},{"path":"https://ecodata1.github.io/hera/articles/bankside-consistency.html","id":"locate","dir":"Articles","previous_headings":"","what":"Locate","title":"Bankside Consistency","text":"Metadata required location","code":"#> # A tibble: 1 Ã— 3 #>   location_id location_description grid_reference #>   <chr>       <chr>                <chr>          #> 1 8175        Eden at Kemback      NO2342323434"},{"path":"https://ecodata1.github.io/hera/articles/bankside-consistency.html","id":"sample","dir":"Articles","previous_headings":"","what":"Sample","title":"Bankside Consistency","text":"Metadata required assess sample. (Excluding direct observations)","code":"#> # A tibble: 1 Ã— 3 #>   parameter           sample_id date_taken #>   <chr>               <chr>     <chr>      #> 1 River Invertebrates 1234      2022-02-12"},{"path":"https://ecodata1.github.io/hera/articles/bankside-consistency.html","id":"observe","dir":"Articles","previous_headings":"","what":"Observe","title":"Bankside Consistency","text":"","code":"#> # A tibble: 1 Ã— 3 #>   question        response label    #>   <chr>           <chr>    <chr>    #> 1 Taxon abundance 12       Baetidae"},{"path":"https://ecodata1.github.io/hera/articles/bankside-consistency.html","id":"metrics","dir":"Articles","previous_headings":"","what":"Metrics","title":"Bankside Consistency","text":"applicableâ€¦","code":"#> # A tibble: 3 Ã— 3 #>   sample_id question   response #>   <chr>     <chr>      <chr>    #> 1 1234      WHPT_SCORE 5.9      #> 2 1234      WHPT_ASPT  5.9      #> 3 1234      WHPT_NTAXA 1"},{"path":[]},{"path":"https://ecodata1.github.io/hera/articles/bankside-consistency.html","id":"predict","dir":"Articles","previous_headings":"","what":"Predict","title":"Bankside Consistency","text":"","code":"#> # A tibble: 1 Ã— 3 #>   question response location_id #>   <lgl>    <lgl>    <lgl>       #> 1 NA       NA       NA"},{"path":"https://ecodata1.github.io/hera/articles/bankside-consistency.html","id":"assessment","dir":"Articles","previous_headings":"","what":"Assessment","title":"Bankside Consistency","text":"","code":"#> # A tibble: 5 Ã— 2 #>   assessment value #>   <chr>      <dbl> #> 1 high         0.8 #> 2 good         0.6 #> 3 moderate     0.4 #> 4 poor         0.2 #> 5 bad          0"},{"path":"https://ecodata1.github.io/hera/articles/bankside-consistency.html","id":"assess","dir":"Articles","previous_headings":"","what":"Assess","title":"Bankside Consistency","text":"","code":"#> NULL"},{"path":"https://ecodata1.github.io/hera/articles/bankside-consistency.html","id":"confidence","dir":"Articles","previous_headings":"","what":"Confidence","title":"Bankside Consistency","text":"Confidence assessment.","code":""},{"path":"https://ecodata1.github.io/hera/articles/bankside-consistency.html","id":"checklist","dir":"Articles","previous_headings":"","what":"Checklist","title":"Bankside Consistency","text":"","code":"#> Warning in standard$required[1:6] <- c(TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, : #> number of items to replace is not a multiple of replacement length #> Test passed ðŸŒˆ #> Test passed ðŸ˜¸"},{"path":"https://ecodata1.github.io/hera/articles/bankside-consistency.html","id":"update","dir":"Articles","previous_headings":"","what":"Update","title":"Bankside Consistency","text":"","code":"#> # A tibble: 7 Ã— 15 #>   analysis_name           assessment standard location sample   validation_funcâ€¦ #>   <chr>                   <chr>      <list>   <list>   <list>   <lgl>            #> 1 Combined aquatic plants Combined â€¦ <tibble> <tibble> <tibble> NA               #> 2 River Diatoms           River Diaâ€¦ <tibble> <tibble> <tibble> NA               #> 3 River Invertebrates     Freshwateâ€¦ <tibble> <tibble> <tibble> NA               #> 4 River Macrophytes       UKTAG Rivâ€¦ <tibble> <tibble> <tibble> NA               #> 5 Benthic Invertebrates,â€¦ Fish Farmâ€¦ <tibble> <tibble> <tibble> NA               #> 6 River Invertebrates     rict       <tibble> <tibble> <tibble> NA               #> 7 River Invertebrates     Rapid Assâ€¦ <tibble> <tibble> <tibble> NA               #> # â€¦ with 9 more variables: indices_function <list>, prediction_function <list>, #> #   assessment_function <list>, confidence_function <list>, indices <list>, #> #   assessment_table <list>, questions <list>, predictors <list>, #> #   predictions <list> #> âœ” Setting active project to '/home/runner/work/hera/hera' #> âœ” Saving 'catalogue' to 'data/catalogue.rda' #> â€¢ Document your data (see 'https://r-pkgs.org/data.html')"},{"path":"https://ecodata1.github.io/hera/articles/bankside-consistency.html","id":"launch-app","dir":"Articles","previous_headings":"","what":"Launch app","title":"Bankside Consistency","text":"interactive application displaying results assessment.","code":""},{"path":"https://ecodata1.github.io/hera/articles/combined-aquatic-plants.html","id":"welcome","dir":"Articles","previous_headings":"","what":"Welcome","title":"Combined aquatic plants","text":"document created following generic assessment guidance.","code":""},{"path":[]},{"path":"https://ecodata1.github.io/hera/articles/combined-aquatic-plants.html","id":"data","dir":"Articles","previous_headings":"","what":"Data","title":"Combined aquatic plants","text":"","code":"#> Downloading data from data.gov.uk web services..."},{"path":"https://ecodata1.github.io/hera/articles/combined-aquatic-plants.html","id":"locate","dir":"Articles","previous_headings":"","what":"Locate","title":"Combined aquatic plants","text":"Metadata required location","code":"#> # A tibble: 2 Ã— 3 #>   location_id                                    location_descriâ€¦ grid_reference #>   <chr>                                          <chr>            <chr>          #> 1 http://environment.data.gov.uk/ecology/site/bâ€¦ DERWENT (DALES)â€¦ SE 70730 63640 #> 2 http://environment.data.gov.uk/ecology/site/bâ€¦ CAM - 92751      TL 35550 54580"},{"path":"https://ecodata1.github.io/hera/articles/combined-aquatic-plants.html","id":"sample","dir":"Articles","previous_headings":"","what":"Sample","title":"Combined aquatic plants","text":"Metadata required assess sample. (Excluding direct observations)","code":"#> # A tibble: 6 Ã— 3 #>   parameter         sample_id date_taken #>   <chr>             <chr>     <chr>      #> 1 River Macrophytes 777394    2018-08-03 #> 2 River Macrophytes 758757    2017-07-20 #> 3 River Macrophytes 724530    2015-09-08 #> 4 River Macrophytes 699722    2014-09-05 #> 5 River Macrophytes 628979    2011-09-02 #> 6 River Diatoms     609895    2011-02-10"},{"path":"https://ecodata1.github.io/hera/articles/combined-aquatic-plants.html","id":"observe","dir":"Articles","previous_headings":"","what":"Observe","title":"Combined aquatic plants","text":"","code":"#> # A tibble: 3,445 Ã— 3 #>    question            response label                   #>    <chr>               <chr>    <chr>                   #>  1 percentagecoverband 3        Butomus umbellatus      #>  2 percentagecoverband 1        Eleocharis palustris    #>  3 percentagecoverband 4        Elodea nuttallii        #>  4 percentagecoverband 1        Enteromorpha flexuosa   #>  5 percentagecoverband 1        Juncus effusus          #>  6 percentagecoverband 2        Myosotis scorpioides    #>  7 percentagecoverband 1        Oenanthe crocata        #>  8 percentagecoverband 6        Phalaris arundinacea    #>  9 percentagecoverband 5        Potamogeton pectinatus  #> 10 percentagecoverband 3        Potamogeton perfoliatus #> # â€¦ with 3,435 more rows"},{"path":"https://ecodata1.github.io/hera/articles/combined-aquatic-plants.html","id":"metrics","dir":"Articles","previous_headings":"","what":"Metrics","title":"Combined aquatic plants","text":"applicableâ€¦","code":"#> Loading required package: tibble #> # A tibble: 1 Ã— 3 #>   response question sample_id #>   <lgl>    <lgl>    <lgl>     #> 1 NA       NA       NA"},{"path":[]},{"path":"https://ecodata1.github.io/hera/articles/combined-aquatic-plants.html","id":"predict","dir":"Articles","previous_headings":"","what":"Predict","title":"Combined aquatic plants","text":"","code":"#> # A tibble: 1 Ã— 3 #>   question response location_id #>   <lgl>    <lgl>    <lgl>       #> 1 NA       NA       NA"},{"path":"https://ecodata1.github.io/hera/articles/combined-aquatic-plants.html","id":"assessment","dir":"Articles","previous_headings":"","what":"Assessment","title":"Combined aquatic plants","text":"","code":"#> # A tibble: 5 Ã— 2 #>   asesssment value #>   <chr>      <dbl> #> 1 high         0.8 #> 2 good         0.6 #> 3 moderate     0.4 #> 4 poor         0.2 #> 5 bad          0"},{"path":"https://ecodata1.github.io/hera/articles/combined-aquatic-plants.html","id":"assess","dir":"Articles","previous_headings":"","what":"Assess","title":"Combined aquatic plants","text":"","code":"#> NULL"},{"path":"https://ecodata1.github.io/hera/articles/combined-aquatic-plants.html","id":"confidence","dir":"Articles","previous_headings":"","what":"Confidence","title":"Combined aquatic plants","text":"Confidence assessment.","code":""},{"path":[]},{"path":"https://ecodata1.github.io/hera/articles/combined-aquatic-plants.html","id":"checklist","dir":"Articles","previous_headings":"","what":"Checklist","title":"Combined aquatic plants","text":"","code":"#> Warning in standard$required[1:6] <- c(TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, : #> number of items to replace is not a multiple of replacement length #> Test passed ðŸ˜€ #> Test passed ðŸ¥³"},{"path":"https://ecodata1.github.io/hera/articles/combined-aquatic-plants.html","id":"update","dir":"Articles","previous_headings":"","what":"Update","title":"Combined aquatic plants","text":"","code":"#> # A tibble: 7 Ã— 15 #>   analysis_name           assessment standard location sample   validation_funcâ€¦ #>   <chr>                   <chr>      <list>   <list>   <list>   <lgl>            #> 1 River Diatoms           River Diaâ€¦ <tibble> <tibble> <tibble> NA               #> 2 River Invertebrates     Freshwateâ€¦ <tibble> <tibble> <tibble> NA               #> 3 River Macrophytes       UKTAG Rivâ€¦ <tibble> <tibble> <tibble> NA               #> 4 Benthic Invertebrates,â€¦ Fish Farmâ€¦ <tibble> <tibble> <tibble> NA               #> 5 River Invertebrates     Rapid Assâ€¦ <tibble> <tibble> <tibble> NA               #> 6 River Invertebrates     rict       <tibble> <tibble> <tibble> NA               #> 7 Combined aquatic plants Combined â€¦ <tibble> <tibble> <tibble> NA               #> # â€¦ with 9 more variables: indices_function <list>, prediction_function <list>, #> #   assessment_function <list>, confidence_function <list>, indices <list>, #> #   assessment_table <list>, questions <list>, predictors <list>, #> #   predictions <list> #> âœ” Setting active project to '/home/runner/work/hera/hera' #> âœ” Saving 'catalogue' to 'data/catalogue.rda' #> â€¢ Document your data (see 'https://r-pkgs.org/data.html')"},{"path":"https://ecodata1.github.io/hera/articles/combined-aquatic-plants.html","id":"launch-app","dir":"Articles","previous_headings":"","what":"Launch app","title":"Combined aquatic plants","text":"interactive application displaying results assessment.","code":"# No need to edit this code launch_app(new_catalogue = catalogue, data = all_data)"},{"path":[]},{"path":"https://ecodata1.github.io/hera/articles/darleq.html","id":"data","dir":"Articles","previous_headings":"","what":"Data","title":"darleq","text":"","code":"#> Downloading data from data.gov.uk web services..."},{"path":"https://ecodata1.github.io/hera/articles/darleq.html","id":"locate","dir":"Articles","previous_headings":"","what":"Locate","title":"darleq","text":"Metadata required location","code":"#> # A tibble: 2 Ã— 3 #>   location_id                                    location_descriâ€¦ grid_reference #>   <chr>                                          <chr>            <chr>          #> 1 http://environment.data.gov.uk/ecology/site/bâ€¦ DERWENT (DALES)â€¦ SE 70730 63640 #> 2 http://environment.data.gov.uk/ecology/site/bâ€¦ CAM - 92751      TL 35550 54580"},{"path":"https://ecodata1.github.io/hera/articles/darleq.html","id":"sample","dir":"Articles","previous_headings":"","what":"Sample","title":"darleq","text":"Metadata required assess sample. (Excluding direct observations)","code":"#> # A tibble: 6 Ã— 3 #>   parameter         sample_id date_taken #>   <chr>             <chr>     <chr>      #> 1 River Macrophytes 777394    2018-08-03 #> 2 River Macrophytes 758757    2017-07-20 #> 3 River Macrophytes 724530    2015-09-08 #> 4 River Macrophytes 699722    2014-09-05 #> 5 River Macrophytes 628979    2011-09-02 #> 6 River Diatoms     609895    2011-02-10"},{"path":"https://ecodata1.github.io/hera/articles/darleq.html","id":"observe","dir":"Articles","previous_headings":"","what":"Observe","title":"darleq","text":"","code":"#> # A tibble: 37 Ã— 5 #>    question        response label              result_id                   units #>    <chr>           <chr>    <chr>              <chr>                       <chr> #>  1 Taxon abundance 8        NA                 http://environment.data.goâ€¦ httpâ€¦ #>  2 Taxon abundance 29       Halamphora veneta  http://environment.data.goâ€¦ httpâ€¦ #>  3 Taxon abundance 2        NA                 http://environment.data.goâ€¦ httpâ€¦ #>  4 Taxon abundance 110      Cocconeis euglypta http://environment.data.goâ€¦ httpâ€¦ #>  5 Taxon abundance 5        Cocconeis lineata  http://environment.data.goâ€¦ httpâ€¦ #>  6 Taxon abundance 1        NA                 http://environment.data.goâ€¦ httpâ€¦ #>  7 Taxon abundance 1        NA                 http://environment.data.goâ€¦ httpâ€¦ #>  8 Taxon abundance 4        NA                 http://environment.data.goâ€¦ httpâ€¦ #>  9 Taxon abundance 25       NA                 http://environment.data.goâ€¦ httpâ€¦ #> 10 Taxon abundance 13       NA                 http://environment.data.goâ€¦ httpâ€¦ #> # â€¦ with 27 more rows"},{"path":"https://ecodata1.github.io/hera/articles/darleq.html","id":"metrics","dir":"Articles","previous_headings":"","what":"Metrics","title":"darleq","text":"Trophic Diatom Index","code":"#> Loading required package: tibble #> # A tibble: 11 Ã— 3 #>    sample_id question        response           #>    <chr>     <chr>           <chr>              #>  1 609895    Total_count     \"149\"              #>  2 609895    Percent_in_TDI4 \"1.34228187919463\" #>  3 609895    N_TDI4          \"2\"                #>  4 609895    N2_TDI4         \"2\"                #>  5 609895    Max_TDI4        \"0.67\"             #>  6 609895    TDI4            \"55\"               #>  7 609895    Motile          \"1.34\"             #>  8 609895    OrganicTolerant \"0\"                #>  9 609895    Planktic        \"0\"                #> 10 609895    Saline          \"0\"                #> 11 609895    Comments        \"\""},{"path":[]},{"path":"https://ecodata1.github.io/hera/articles/darleq.html","id":"predict","dir":"Articles","previous_headings":"","what":"Predict","title":"darleq","text":"","code":"#> Warning in prediction_function(data = data): NAs introduced by coercion #> # A tibble: 1 Ã— 3 #>   location_id                                           question response #>   <chr>                                                 <chr>       <dbl> #> 1 http://environment.data.gov.uk/ecology/site/bio/92751 eTDI4        66.1"},{"path":"https://ecodata1.github.io/hera/articles/darleq.html","id":"assessment","dir":"Articles","previous_headings":"","what":"Assessment","title":"darleq","text":"","code":"#> # A tibble: 5 Ã— 3 #>   assesssment value level #>   <chr>       <dbl> <int> #> 1 high          0.8     1 #> 2 good          0.6     2 #> 3 moderate      0.4     3 #> 4 poor          0.2     4 #> 5 bad           0       5"},{"path":"https://ecodata1.github.io/hera/articles/darleq.html","id":"assess","dir":"Articles","previous_headings":"","what":"Assess","title":"darleq","text":"","code":"#> # A tibble: 28 Ã— 3 #>    sample_id question response          #>    <chr>     <chr>    <chr>             #>  1 724530    class    bad               #>  2 724530    eqr      0                 #>  3 724530    status   classified        #>  4 724530    level    1                 #>  5 609895    class    high              #>  6 609895    eqr      0.832230369833555 #>  7 609895    status   classified        #>  8 609895    level    1                 #>  9 609891    class    bad               #> 10 609891    eqr      0                 #> # â€¦ with 18 more rows"},{"path":"https://ecodata1.github.io/hera/articles/darleq.html","id":"confidence","dir":"Articles","previous_headings":"","what":"Confidence","title":"darleq","text":"","code":"#> Calculating confidence... #> # A tibble: 35 Ã— 3 #>    sample_id question response #>    <chr>     <chr>    <chr>    #>  1 724530    high     0        #>  2 724530    good     0.4      #>  3 724530    moderate 2        #>  4 724530    poor     9.6      #>  5 724530    bad      88.1     #>  6 609895    high     74.3     #>  7 609895    good     25.7     #>  8 609895    moderate 0        #>  9 609895    poor     0        #> 10 609895    bad      0        #> # â€¦ with 25 more rows"},{"path":"https://ecodata1.github.io/hera/articles/darleq.html","id":"aggregate","dir":"Articles","previous_headings":"","what":"Aggregate","title":"darleq","text":"Default aggregation used routine assessment","code":""},{"path":"https://ecodata1.github.io/hera/articles/darleq.html","id":"report","dir":"Articles","previous_headings":"","what":"Report","title":"darleq","text":"List reports assessment used","code":""},{"path":"https://ecodata1.github.io/hera/articles/darleq.html","id":"checklist","dir":"Articles","previous_headings":"","what":"Checklist","title":"darleq","text":"","code":"#> Warning in standard$required[1:6] <- c(TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, : #> number of items to replace is not a multiple of replacement length #> Test passed ðŸŽ‰ #> Test passed ðŸ˜¸"},{"path":"https://ecodata1.github.io/hera/articles/darleq.html","id":"update-hera","dir":"Articles","previous_headings":"","what":"Update hera","title":"darleq","text":"","code":"#> âœ” Setting active project to '/home/runner/work/hera/hera' #> âœ” Saving 'catalogue' to 'data/catalogue.rda' #> â€¢ Document your data (see 'https://r-pkgs.org/data.html')"},{"path":"https://ecodata1.github.io/hera/articles/darleq.html","id":"launch-app","dir":"Articles","previous_headings":"","what":"Launch app","title":"darleq","text":"","code":"# No need to edit this code launch_app(new_catalogue = catalogue, data = all_data)"},{"path":[]},{"path":"https://ecodata1.github.io/hera/articles/deployment_guide.html","id":"quick-start","dir":"Articles","previous_headings":"Work In Progress!â€¦","what":"Quick Start","title":"Deploy Guide","text":"add new assessment hera package install hera package Open new File > New File > R Markdown Select â€˜Templateâ€™ Search â€˜Deployment Templateâ€™ open Change â€˜Deployment Templateâ€™ title match assessment name Save document Congratulations! now new deployment template ready populate. Next, complete following sections get assessment fully operational!","code":"install.packages(\"devtools\") devtools::install_github(\"aquaMetrics/hera\", dependencies = TRUE) library(hera)"},{"path":[]},{"path":[]},{"path":[]},{"path":"https://ecodata1.github.io/hera/articles/development_guide.html","id":"quick-start","dir":"Articles","previous_headings":"","what":"Quick Start","title":"Development Guide","text":"add new assessment, install hera package. Open new File > New File > R Markdown Select â€˜Templateâ€™ Search â€˜Assessment Templateâ€™ open Change â€˜Assessment Templateâ€™ title match assessment name Save document Congratulations! now new assessment template ready populate. Complete following sections.","code":"install.packages(\"devtools\") devtools::install_github(\"aquaMetrics/hera\", dependencies = TRUE) library(hera)"},{"path":"https://ecodata1.github.io/hera/articles/development_guide.html","id":"details","dir":"Articles","previous_headings":"","what":"Details","title":"Development Guide","text":"first piece information add details assessment called status. table shows options choose fields required.","code":""},{"path":"https://ecodata1.github.io/hera/articles/development_guide.html","id":"example","dir":"Articles","previous_headings":"Details","what":"Example","title":"Development Guide","text":"code creates tibble/dataframe called â€˜standardâ€™ containing metadata LEAFPACS parameter. tibble later saved â€˜heraâ€™ package future reference. Code: Check Format data formatted using hera_format function neatly present within documentation assessment.hera_format function also check data errors omissions. Access pre-existing metadata within hera package. metadata saved catalogue dataframe.","code":"standard <- tibble(   standard_short = \"LEAFPACS\",   quality_element = \"Ecology\",   parameter = \"River Macrophytes\",   standard_long = \"UKTAG River Assessment Method Macrophytes and Phytobenthos\",   standard_reference = \"http://wfduk.org\",   aggregation = \"waterbody\",   status = \"testing\" ) standard_format <- hera:::hera_format(standard = standard) # format table standard_format$standard %>%   knitr::kable() catalogue$standard[[1]] ## # A tibble: 1 Ã— 7 ##   standard_short        quality_element parameter standard_long standard_refereâ€¦ ##   <chr>                 <lgl>           <chr>     <chr>         <lgl>            ## 1 Combined aquatic plaâ€¦ NA              Combinedâ€¦ Combined aquâ€¦ NA               ## # â€¦ with 2 more variables: aggregation <lgl>, status <chr>"},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://ecodata1.github.io/hera/articles/fim.html","id":"welcome","dir":"Articles","previous_headings":"","what":"Welcome","title":"fim","text":"document created following generic assessment guidance.","code":""},{"path":[]},{"path":"https://ecodata1.github.io/hera/articles/fim.html","id":"data","dir":"Articles","previous_headings":"","what":"Data","title":"fim","text":"","code":"#> # A tibble: 1 Ã— 26 #>   parameter       question response label sample_id location_id location_descriâ€¦ #>   <chr>           <chr>    <chr>    <chr> <chr>     <chr>       <chr>            #> 1 River Invertebâ€¦ Taxon aâ€¦ 12       Baetâ€¦ 1234      8175        Eden at Kemback  #> # â€¦ with 19 more variables: grid_reference <chr>, water_body_id <chr>, #> #   year <chr>, date_taken <chr>, units <lgl>, min <lgl>, max <lgl>, #> #   d_f_source <dbl>, Altitude <dbl>, NGR <chr>, logaltbar <dbl>, #> #   log_area <dbl>, disch_cat <dbl>, slope <dbl>, chalk <dbl>, clay <dbl>, #> #   hardrock <dbl>, limestone <dbl>, peat <dbl>"},{"path":"https://ecodata1.github.io/hera/articles/fim.html","id":"locate","dir":"Articles","previous_headings":"","what":"Locate","title":"fim","text":"Metadata required location","code":"#> # A tibble: 1 Ã— 3 #>   location_id location_description grid_reference #>   <chr>       <chr>                <chr>          #> 1 8175        Eden at Kemback      NO2342323434"},{"path":"https://ecodata1.github.io/hera/articles/fim.html","id":"sample","dir":"Articles","previous_headings":"","what":"Sample","title":"fim","text":"Metadata required assess sample. (Excluding direct observations)","code":"#> # A tibble: 1 Ã— 3 #>   parameter           sample_id date_taken #>   <chr>               <chr>     <chr>      #> 1 River Invertebrates 1234      2022-02-12"},{"path":"https://ecodata1.github.io/hera/articles/fim.html","id":"observe","dir":"Articles","previous_headings":"","what":"Observe","title":"fim","text":"","code":"#> # A tibble: 1 Ã— 3 #>   question        response label    #>   <chr>           <chr>    <chr>    #> 1 Taxon abundance 12       Baetidae"},{"path":"https://ecodata1.github.io/hera/articles/fim.html","id":"metrics","dir":"Articles","previous_headings":"","what":"Metrics","title":"fim","text":"applicableâ€¦","code":"#> # A tibble: 3 Ã— 3 #>   sample_id question   response #>   <chr>     <chr>      <chr>    #> 1 1234      WHPT_SCORE 5.9      #> 2 1234      WHPT_ASPT  5.9      #> 3 1234      WHPT_NTAXA 1"},{"path":[]},{"path":"https://ecodata1.github.io/hera/articles/fim.html","id":"predict","dir":"Articles","previous_headings":"","what":"Predict","title":"fim","text":"","code":"#>  #> Attaching package: 'whpt' #> The following object is masked from 'package:hera': #>  #>     demo_data #> # A tibble: 4 Ã— 4 #>   sample_id location_id response         question        #>   <chr>     <chr>       <chr>            <chr>           #> 1 1234      8175        7.13506455958832 Reference ASPT  #> 2 2         8175        7.07582757084208 Reference ASPT  #> 3 1234      8175        19.7043660714286 Reference NTAXA #> 4 2         8175        18.9529398549564 Reference NTAXA"},{"path":"https://ecodata1.github.io/hera/articles/fim.html","id":"assessment","dir":"Articles","previous_headings":"","what":"Assessment","title":"fim","text":"","code":"#> # A tibble: 5 Ã— 2 #>   assessment value #>   <chr>      <dbl> #> 1 high         0.8 #> 2 good         0.6 #> 3 moderate     0.4 #> 4 poor         0.2 #> 5 bad          0"},{"path":"https://ecodata1.github.io/hera/articles/fim.html","id":"assess","dir":"Articles","previous_headings":"","what":"Assess","title":"fim","text":"","code":"#> NULL"},{"path":"https://ecodata1.github.io/hera/articles/fim.html","id":"confidence","dir":"Articles","previous_headings":"","what":"Confidence","title":"fim","text":"Confidence assessment.","code":""},{"path":"https://ecodata1.github.io/hera/articles/fim.html","id":"checklist","dir":"Articles","previous_headings":"","what":"Checklist","title":"fim","text":"","code":"#> Warning in standard$required[1:6] <- c(TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, : #> number of items to replace is not a multiple of replacement length #> Test passed ðŸŽŠ #> Test passed ðŸ˜¸"},{"path":"https://ecodata1.github.io/hera/articles/fim.html","id":"update","dir":"Articles","previous_headings":"","what":"Update","title":"fim","text":"","code":"#> # A tibble: 7 Ã— 15 #>   analysis_name           assessment standard location sample   validation_funcâ€¦ #>   <chr>                   <chr>      <list>   <list>   <list>   <lgl>            #> 1 Combined aquatic plants Combined â€¦ <tibble> <tibble> <tibble> NA               #> 2 River Diatoms           River Diaâ€¦ <tibble> <tibble> <tibble> NA               #> 3 River Macrophytes       UKTAG Rivâ€¦ <tibble> <tibble> <tibble> NA               #> 4 Benthic Invertebrates,â€¦ Fish Farmâ€¦ <tibble> <tibble> <tibble> NA               #> 5 River Invertebrates     Rapid Assâ€¦ <tibble> <tibble> <tibble> NA               #> 6 River Invertebrates     rict       <tibble> <tibble> <tibble> NA               #> 7 River Invertebrates     Freshwateâ€¦ <tibble> <tibble> <tibble> NA               #> # â€¦ with 9 more variables: indices_function <list>, prediction_function <list>, #> #   assessment_function <list>, confidence_function <list>, indices <list>, #> #   assessment_table <list>, questions <list>, predictors <list>, #> #   predictions <list> #> âœ” Setting active project to '/home/runner/work/hera/hera' #> âœ” Saving 'catalogue' to 'data/catalogue.rda' #> â€¢ Document your data (see 'https://r-pkgs.org/data.html')"},{"path":"https://ecodata1.github.io/hera/articles/fim.html","id":"launch-app","dir":"Articles","previous_headings":"","what":"Launch app","title":"fim","text":"interactive application displaying results assessment.","code":""},{"path":"https://ecodata1.github.io/hera/articles/fish-farm-assessment.html","id":"welcome","dir":"Articles","previous_headings":"","what":"Welcome","title":"Fish farm assessment","text":"document created following generic assessment guidance.","code":""},{"path":[]},{"path":"https://ecodata1.github.io/hera/articles/fish-farm-assessment.html","id":"data-sources","dir":"Articles","previous_headings":"","what":"Data Sources","title":"Fish farm assessment","text":"List data sources. Can demo data stored within package, web services shared online file.","code":""},{"path":"https://ecodata1.github.io/hera/articles/fish-farm-assessment.html","id":"data","dir":"Articles","previous_headings":"","what":"Data","title":"Fish farm assessment","text":"","code":"#> # A tibble: 3 Ã— 16 #>   parameter       question response label sample_id location_id location_descriâ€¦ #>   <chr>           <chr>    <chr>    <chr> <lgl>     <lgl>       <lgl>            #> 1 Benthic DNA     dna_reaâ€¦ BBB-CCCâ€¦ NA    NA        NA          NA               #> 2 Benthic Invertâ€¦ taxon_aâ€¦ 2        bug   NA        NA          NA               #> 3 Sediment Chemiâ€¦ toxicity 10       NA    NA        NA          NA               #> # â€¦ with 9 more variables: grid_reference <lgl>, water_body_id <lgl>, #> #   year <lgl>, latitude <dbl>, longitude <dbl>, date_taken <lgl>, units <lgl>, #> #   min <lgl>, max <lgl>"},{"path":"https://ecodata1.github.io/hera/articles/fish-farm-assessment.html","id":"locate","dir":"Articles","previous_headings":"","what":"Locate","title":"Fish farm assessment","text":"Metadata required location","code":"#> # A tibble: 1 Ã— 3 #>   location_id location_description grid_reference #>   <lgl>       <lgl>                <lgl>          #> 1 NA          NA                   NA"},{"path":"https://ecodata1.github.io/hera/articles/fish-farm-assessment.html","id":"sample","dir":"Articles","previous_headings":"","what":"Sample","title":"Fish farm assessment","text":"Metadata required assess sample. (Excluding direct observations)","code":"#> # A tibble: 3 Ã— 3 #>   parameter             sample_id date_taken #>   <chr>                 <lgl>     <lgl>      #> 1 Benthic DNA           NA        NA         #> 2 Benthic Invertebrates NA        NA         #> 3 Sediment Chemistry    NA        NA"},{"path":"https://ecodata1.github.io/hera/articles/fish-farm-assessment.html","id":"observe","dir":"Articles","previous_headings":"","what":"Observe","title":"Fish farm assessment","text":"","code":"#> # A tibble: 3 Ã— 3 #>   question        response    label #>   <chr>           <chr>       <chr> #> 1 dna_reads       BBB-CCC-AAA NA    #> 2 taxon_abundance 2           bug   #> 3 toxicity        10          NA"},{"path":"https://ecodata1.github.io/hera/articles/fish-farm-assessment.html","id":"metrics","dir":"Articles","previous_headings":"","what":"Metrics","title":"Fish farm assessment","text":"applicableâ€¦","code":"#> # A tibble: 2 Ã— 3 #>   sample_id question   response       #>   <lgl>     <chr>      <chr>          #> 1 NA        iqi_score  14             #> 2 NA        taxon_name bacteria-23432"},{"path":[]},{"path":"https://ecodata1.github.io/hera/articles/fish-farm-assessment.html","id":"predict","dir":"Articles","previous_headings":"","what":"Predict","title":"Fish farm assessment","text":"","code":"#> # A tibble: 1 Ã— 3 #>   question response location_id #>   <lgl>    <lgl>    <lgl>       #> 1 NA       NA       NA"},{"path":"https://ecodata1.github.io/hera/articles/fish-farm-assessment.html","id":"assessment","dir":"Articles","previous_headings":"","what":"Assessment","title":"Fish farm assessment","text":"","code":"#> # A tibble: 5 Ã— 2 #>   assessment value #>   <chr>      <dbl> #> 1 high         0.8 #> 2 good         0.6 #> 3 moderate     0.4 #> 4 poor         0.2 #> 5 bad          0"},{"path":"https://ecodata1.github.io/hera/articles/fish-farm-assessment.html","id":"assess","dir":"Articles","previous_headings":"","what":"Assess","title":"Fish farm assessment","text":"","code":"#> NULL"},{"path":"https://ecodata1.github.io/hera/articles/fish-farm-assessment.html","id":"confidence","dir":"Articles","previous_headings":"","what":"Confidence","title":"Fish farm assessment","text":"Confidence assessment.","code":"#> # A tibble: 1 Ã— 4 #>   sample_id question   response unit       #>   <lgl>     <chr>      <chr>    <chr>      #> 1 NA        confidence 100      percentage"},{"path":"https://ecodata1.github.io/hera/articles/fish-farm-assessment.html","id":"checklist","dir":"Articles","previous_headings":"","what":"Checklist","title":"Fish farm assessment","text":"","code":"#> Warning in standard$required[1:6] <- c(TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, : #> number of items to replace is not a multiple of replacement length #> Test passed ðŸŒˆ #> Test passed ðŸ¥‡"},{"path":"https://ecodata1.github.io/hera/articles/fish-farm-assessment.html","id":"update","dir":"Articles","previous_headings":"","what":"Update","title":"Fish farm assessment","text":"","code":"#> # A tibble: 7 Ã— 15 #>   analysis_name           assessment standard location sample   validation_funcâ€¦ #>   <chr>                   <chr>      <list>   <list>   <list>   <lgl>            #> 1 Combined aquatic plants Combined â€¦ <tibble> <tibble> <tibble> NA               #> 2 River Diatoms           River Diaâ€¦ <tibble> <tibble> <tibble> NA               #> 3 River Invertebrates     Freshwateâ€¦ <tibble> <tibble> <tibble> NA               #> 4 River Macrophytes       UKTAG Rivâ€¦ <tibble> <tibble> <tibble> NA               #> 5 River Invertebrates     Rapid Assâ€¦ <tibble> <tibble> <tibble> NA               #> 6 River Invertebrates     rict       <tibble> <tibble> <tibble> NA               #> 7 Benthic Invertebrates,â€¦ Fish Farmâ€¦ <tibble> <tibble> <tibble> NA               #> # â€¦ with 9 more variables: indices_function <list>, prediction_function <list>, #> #   assessment_function <list>, confidence_function <list>, indices <list>, #> #   assessment_table <list>, questions <list>, predictors <list>, #> #   predictions <list> #> âœ” Setting active project to '/home/runner/work/hera/hera' #> âœ” Saving 'catalogue' to 'data/catalogue.rda' #> â€¢ Document your data (see 'https://r-pkgs.org/data.html')"},{"path":"https://ecodata1.github.io/hera/articles/fish-farm-assessment.html","id":"launch-app","dir":"Articles","previous_headings":"","what":"Launch app","title":"Fish farm assessment","text":"interactive application displaying results assessment.","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"propose regulatory tools share common set design principles, interfaces data structures. Specifically, propose official collection R packages designed provide collaborative workflow building using classification tools. turn, packages unified single package called â€˜heraâ€™. provides common interface run regulatory assessments. expect process facilitate code re-use, faster integration knowledge exchange method developers practitioners.","code":""},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"motivation","dir":"Articles","previous_headings":"","what":"Motivation","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"UKTAG guided development impressive range classification tools. involved many developers, researchers experts dedicating time effort creating tools better understand pressures environment. confident many future opportunities collaboration tool development response changing environmental pressures improving scientific understanding. access modelling tools become routine, expect proliferation models indices years ahead. instance, new tools diagnosing pressures, updates existing tools catchment scale planning. aid better understanding environment effectively combining multiple models tools, propose share common design philosophy aid integration collaboration.","code":""},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"key-ideas","dir":"Articles","previous_headings":"","what":"Key Ideas","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"aims shared design philosophy regulatory classification R packages include: Create single user interfaces, similar data formats operating procedures. Allow outputs multiple tools quickly generated combined together. Shorten time development integration Agencies systems. Clearer path researcher engagement model development. Make easier share re-use code tools common functions. Share data quality standards data validation code. Apply similar approaches code review, testing documentation.","code":""},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"preparing-for-future","dir":"Articles","previous_headings":"3 Key Ideas","what":"Preparing for future","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"next 10 yearsâ€¦ assume likely aquatic ecological models subsumed large scale environmental climate models. â€˜total environmentâ€™ models may instance use climate change models forecast impact invertebrates, water-use models predict impact fish spatial planning tools impact nutrient levels. outputs used across regulatory reporting RBMP, flood management, biodiversity improvements, carbon sequestering etc. Allowing multi-discipline assessment impacts trade-offs planning scenario proposed measures - ensuring well-informed decisions-making. ecological data along supporting data chemistry, climate, meteorological, geological, satellite imagery, freely easily accessible. assume agencies upload data fish counter data, plant DNA aerial imagery etc, â€˜lakeâ€™ environmental data. take step towards vision, underlying design models tools must modular easy connect integrate variety ways.","code":""},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"detailed-design","dir":"Articles","previous_headings":"","what":"Detailed design","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"aid collaboration respond changing environmentally pressures, propose creating joint collections packages share understanding environment providing software infrastructure lighten burden mundane tasks involved maintaining deploying new models interfaces. proposal influenced work within climate change research community Climate Modelling Diagnostics Toolkit, MET officeâ€™s unified model approach. well best software practices -going work R community ropenSci research projects Virtual Observatory.","code":""},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"shared-packages","dir":"Articles","previous_headings":"4 Detailed design","what":"Shared Packages","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"Currently number classification tool R packages shared github: darleq3 - Phytobenthos fsc2 - Scottish river fish rict - General invertebrate classification propose tools become part official collection packages work towards making inter-operable via hera package.","code":""},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"key-steps","dir":"Articles","previous_headings":"4 Detailed design","what":"Key steps","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"introduce prototype R package called hera. key idea, hera provides common interface existing WFD packages future developments. achieved set shared functions required run report classification. builds best practice idea run many models simultaneously R keeping input output data formats simple homogeneous. explain function detail . summary, step represents function within hera package. allows re-use code rules existing future tool development. Steps Validation Indices/metrics Classification Aggregation Reporting Diagnosis Scenarios examples provide taste RFC implemented. Keep mind, full, complete accurate. data structure, naming details change, presented rough draft","code":""},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"validation","dir":"Articles","previous_headings":"4 Detailed design > 4.2 Key steps","what":"Validation","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"Firstly, sense-check predictor observation data expect limits. Additionally, check data within expect parameter space based training data used create classification model. Return passing data list warnings/fails.","code":"# install.packages(\"devtools\") # devtools::install_github(\"ecodata1/hera\") demo_data <- hera::demo_data data <- validation(demo_data)  data[5, ] # A tibble: 1 Ã— 22   location_id location_description           easting northing latitude longitude   <chr>       <fct>                            <dbl>    <dbl>    <dbl>     <dbl> 1 8175        River Eden @ Kemback Gauging â€¦  341452   715796     56.3     -2.95 # â€¦ with 16 more variables: date_taken <dttm>, sample_id <chr>, question <chr>, #   response <fct>, mean_alkalinity <dbl>, grid_reference <chr>, #   standard <chr>, quality_element <chr>, water_body_id <dbl>, label <fct>, #   dist_from_source <dbl>, alkalinity <dbl>, slope <dbl>, #   source_altitude <dbl>, parameter <chr>, year <dbl>"},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"indices","dir":"Articles","previous_headings":"4 Detailed design > 4.2 Key steps","what":"Indices","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"Using indices() function, calculate observed indices scores required sample. Note, invert indices calculated, pre-calculated demo_data start.","code":"data %>%    filter(question == \"Taxon abundance\") %>%    indices() %>%   select(sample_id, question, response) %>%   slice_sample(n = 4)  # A tibble: 4 Ã— 3   sample_id question        response   <chr>     <chr>           <chr>    1 1800006   Max_TDI4        10.33    2 1912578   Saline          4.82     3 2031713   OrganicTolerant 49.94    4 919681    N_TDI4          23"},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"prediction","dir":"Articles","previous_headings":"4 Detailed design > 4.2 Key steps","what":"Prediction","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"predict reference scores sample: See documentation prediction() information.","code":"prediction(demo_data[1:2200, ]) %>%   slice_sample(n = 4) %>%   select(sample_id, question, response) # A tibble: 4 Ã— 3   sample_id question response           <chr>     <chr>    <chr>            1 758729    ref_nfg  5.26620315804775 2 758729    ref_taxa 8.18193000184553 3 919681    eTDI4    45.3614293687833 4 2031713   eTDI4    45.3614293687833"},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"compliance","dir":"Articles","previous_headings":"4 Detailed design > 4.2 Key steps","what":"Compliance","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"Based predicted observed indices - check compliance sample using assessment(). â€˜complianceâ€™ stage includes type test assessment data. WFD classification, compliance check, bathing water discharge assessment. Really type grading assessment type expected value.","code":"assessment(demo_data) %>%   slice_sample(n = 4)  # A tibble: 4 Ã— 20   location_id location_descriptiâ€¦ sample_id date_taken          easting northing   <chr>       <fct>               <chr>     <dttm>                <dbl>    <dbl> 1 8175        River Eden @ Kembaâ€¦ 2252490   2013-04-24 10:10:00  341452   715796 2 8175        River Eden @ Kembaâ€¦ 2031713   2012-04-23 10:12:00  341452   715796 3 8175        River Eden @ Kembaâ€¦ 2489784   2014-05-20 08:10:00  341452   715796 4 8175        River Eden @ Kembaâ€¦ 1800006   2011-05-04 13:45:00  341452   715796 # â€¦ with 14 more variables: latitude <dbl>, longitude <dbl>, #   mean_alkalinity <dbl>, standard <chr>, quality_element <chr>, #   water_body_id <dbl>, dist_from_source <dbl>, alkalinity <dbl>, slope <dbl>, #   source_altitude <dbl>, year <dbl>, question <chr>, response <chr>, #   parameter <chr>"},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"aggegation","dir":"Articles","previous_headings":"4 Detailed design > 4.2 Key steps","what":"Aggegation","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"now aggregate samples season, year, multi-year waterbody required: also aggregate WFD hierarchy.","code":"aggregate <- aggregation(demo_data, c(\"year\",\"season\",\"waterbody\")) head(class)"},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"report","dir":"Articles","previous_headings":"4 Detailed design > 4.2 Key steps","what":"Report","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"now run report assessing samples location consistency. Note, report fish produced, necessary adjustment/interpretation parameters created fish. demonstrates step step process. tools/models features development required prioritized: now run report assesses two samples assess discharge (downstream):","code":"# TODO! compare_report <- compare(new_data, old_data) compare_report # TODO! compare_report <- compare(site_one, site_two) compare_report"},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"diagnosis","dir":"Articles","previous_headings":"4 Detailed design > 4.2 Key steps","what":"Diagnosis","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"well classification water quality, additional need diagnose potential pressures. use diagnosis() function report potential pressures.","code":"# TODO! diagnosis(demo_data) %>%  select(sample_id, diagnosis) head()"},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"scenarios","dir":"Articles","previous_headings":"4 Detailed design > 4.2 Key steps","what":"Scenarios","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"number forecasting scenario tools incorporated either projecting current trends assessing impact proposed measures.","code":"# TODO! scenario(demo_data, trends) %>%   head()  scenario(demo_data, measures) %>%  head()"},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"the-whole-game","dir":"Articles","previous_headings":"4 Detailed design > 4.2 Key steps","what":"The Whole Game","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"part donâ€™t expect users go steps. developers researchers useful think classification within framework discrete steps. majority end users, agency staff consultants, can open GUI hera_app() visit website directly. However, advanced users can use hera function wrap steps together example hera(hera::demo_data). Furthermore, agencies can integrate functions systems using web services. Please see demo web service api documentation using opencpu hosted packages.","code":""},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"lots-of-datasets---one-underlying-data-structure","dir":"Articles","previous_headings":"4 Detailed design","what":"Lots of datasets - one underlying data structure?","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"Models rely observed sampling training. Samples come range forms points, transects, images, grabs, DNA etc. general feature modelling based able predict expect find whatever sampling technique deploy. sample fundamental observation compare prediction. samples discreet, either observed instantaneously perhaps minutes hours (dynamic changes significant). Multiple samples can aggregated smooth variance sample still remains fundamental building block. sample single pixel aerial image salmon moving fish counter. still make predictions expect sample like even true picture emerges several samples aggregated compared. Therefore, data share similarities, consist samples observations. additionally sample predictor variables allow us predict expected reference values outcomes.","code":""},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"data-dictionary","dir":"Articles","previous_headings":"4 Detailed design > 4.3 Lots of datasets - one underlying data structure?","what":"Data dictionary","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"number data dictionaries, metadata standards semantic data definition across disciplines organisations. â€™s unclear exactly define input output datasets. Therefore, propose using common definition standards possible. similar way climate model communities use Climate Forecast Standard Names. Europe Environment Agency produced data dictionary reporting. However, mainly high-level reporting. particular, taxonomic results exchanged using data structure. However, use aspects standard within hera aid onward reporting EEA.","code":""},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"what-does-this-look-like","dir":"Articles","previous_headings":"4 Detailed design > 4.3 Lots of datasets - one underlying data structure?","what":"What does this look like?","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"small sample demo dataset demo_data contains diatoms, macrophytes inverts quality elements.","code":"# A tibble: 5 Ã— 4 # Groups:   quality_element [5]   location_description             date_taken          sample_id quality_element   <fct>                            <dttm>              <chr>     <chr>           1 River Eden @ Kemback Gauging Stâ€¦ 2017-07-20 12:15:00 3256506   Algal_RQB       2 River Eden @ Kemback Gauging Stâ€¦ 2016-05-24 11:00:00 2959448   Alien Species   3 River Eden @ Kemback Gauging Stâ€¦ 2017-05-17 15:00:00 3201863   Comment         4 River Eden @ Kemback Gauging Stâ€¦ 2007-04-16 12:20:00 648750    Diatom Summary  5 River Eden @ Kemback Gauging Stâ€¦ 2013-04-24 10:10:00 2252490   Diatom Survey â€¦"},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"book-keeping-variables","dir":"Articles","previous_headings":"4 Detailed design > 4.3 Lots of datasets - one underlying data structure?","what":"Book-keeping variables","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"First , â€˜book-keepingâ€™ variables. allow us reference data associated particular samples, locations WFD methods. allow results aggregate different levels. data passed hera must four variables. ad hoc reporting, consultancies students etc donâ€™t routinely record unique sample ids, sample_id generate date_taken location_id provided. three variables minimal required, practice water_body_id maybe required aggregation simply location_description NGR etc help reference sites easily. restriction number extra columns extra columns appended outputs.","code":"# A tibble: 5 Ã— 4   location_id sample_id date_taken          quality_element           <chr>       <chr>     <dttm>              <chr>                   1 8175        3256506   2017-07-20 12:15:00 Macrophyte Reach Survey 2 8175        3256506   2017-07-20 12:15:00 Macrophyte Reach Survey 3 8175        3256506   2017-07-20 12:15:00 Macrophyte Reach Survey 4 8175        3256506   2017-07-20 12:15:00 Macrophyte Reach Survey 5 8175        3256506   2017-07-20 12:15:00 Macrophyte Reach Survey"},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"observations","dir":"Articles","previous_headings":"4 Detailed design > 4.3 Lots of datasets - one underlying data structure?","what":"Observations","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"observation consists three variables question, response. question variable identifies determined alkalinity depth etc. response value observed recorded question. example diatom records, invert data river flow shared input format. theory, required. However ease interacting existing datasets ad hoc data, third column label useful due historic way taxon data usually stored.","code":"# A tibble: 7,106 Ã— 2    question        response          <chr>           <fct>           1 Site altitude   7               2 Source altitude 210             3 nems alkalinity 118.8889        4 Mean alkalinity 118.8889        5 nems slope      2.6000          6 Slope           2.6000          7 Dist to source  36.4            8 Site NGR        NO 41452 15796  9 Easting         341452         10 Northing        715796         # â€¦ with 7,096 more rows # A tibble: 5 Ã— 3   question               response                label                     <chr>                  <fct>                   <fct>                   1 Taxon name             Gammarus pulex          Gammarus pulex          2 % Bed stability stable 5                       <NA>                    3 Taxon abundance        30                      Oligochaeta             4 Taxon name             Potamophylax latipennis Potamophylax latipennis 5 % Boulders/Cobbles     50                      <NA>"},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"predictors","dir":"Articles","previous_headings":"4 Detailed design > 4.3 Lots of datasets - one underlying data structure?","what":"Predictors","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"Predictive variables temperature, altitude, slope added additional columns. trade-predictor variables added row dataset, increasing size dataset. However make data analysis straightforward repeated data can easily compressed size becomes issue. instance, nested JSON data dataframes R.","code":"# A tibble: 7,106 Ã— 3    mean_alkalinity grid_reference slope              <dbl> <chr>          <dbl>  1              75 NO 41452 15796     2  2              75 NO 41452 15796     2  3              75 NO 41452 15796     2  4              75 NO 41452 15796     2  5              75 NO 41452 15796     2  6              75 NO 41452 15796     2  7              75 NO 41452 15796     2  8              75 NO 41452 15796     2  9              75 NO 41452 15796     2 10              75 NO 41452 15796     2 # â€¦ with 7,096 more rows"},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"indices-predictions-classification-reports","dir":"Articles","previous_headings":"4 Detailed design > 4.3 Lots of datasets - one underlying data structure?","what":"Indices, predictions, classification, reports","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"outputs presented consistent format making outputs different models instantly comparable portable.","code":""},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"data-input","dir":"Articles","previous_headings":"4 Detailed design","what":"Data input","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"students consultancies requiring ad hoc usage, templates documentation preparing data provided. Agencies, data queries can written prepare outputs correct format. instance, prototype function pull data Environment Agencyâ€™s data.gov.uk web service convert required hera input format. can run EA data hera:","code":"environment_agency_data <- hera:::get_data(location_id = c(43378, 92751)) tibble(environment_agency_data) # A tibble: 2,495 Ã— 31    location_id   location_descriâ€¦ sample_id date_taken season parameter question    <chr>         <chr>            <chr>     <chr>       <int> <chr>     <chr>     1 http://envirâ€¦ TEST - 43378     771094    2019-02-28      4 River Inâ€¦ <NA>      2 http://envirâ€¦ TEST - 43378     771094    2019-02-28      4 River Inâ€¦ <NA>      3 http://envirâ€¦ TEST - 43378     771094    2019-02-28      4 River Inâ€¦ <NA>      4 http://envirâ€¦ TEST - 43378     771094    2019-02-28      4 River Inâ€¦ <NA>      5 http://envirâ€¦ TEST - 43378     771094    2019-02-28      4 River Inâ€¦ <NA>      6 http://envirâ€¦ TEST - 43378     771094    2019-02-28      4 River Inâ€¦ <NA>      7 http://envirâ€¦ TEST - 43378     771094    2019-02-28      4 River Inâ€¦ <NA>      8 http://envirâ€¦ TEST - 43378     771094    2019-02-28      4 River Inâ€¦ <NA>      9 http://envirâ€¦ TEST - 43378     771094    2019-02-28      4 River Inâ€¦ <NA>     10 http://envirâ€¦ TEST - 43378     771094    2019-02-28      4 River Inâ€¦ <NA>     # â€¦ with 2,485 more rows, and 24 more variables: response <chr>, label <chr>, #   result_id <chr>, units <chr>, latitude <dbl>, longitude <dbl>, #   grid_reference <chr>, alkalinity <dbl>, river_width <int>, #   mean_depth <int>, boulders_cobbles <int>, pebbles_gravel <int>, sand <int>, #   silt_clay <int>, northing <int>, easting <int>, dist_from_source <dbl>, #   altitude <int>, source_altitude <int>, slope <dbl>, #   discharge_category <int>, water_body_id <chr>, water_body_type <chr>, â€¦ predictions <- hera::prediction(environment_agency_data)  predictions %>%   select(date_taken, question, response) %>%   unique()"},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"shared-data-tables","dir":"Articles","previous_headings":"4 Detailed design","what":"Shared Data Tables","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"Following data tables shared heraâ€¦ Validation Rules Indices, Model Environmental Standards Taxon Table EQR / assessment / compliance boundaries Parameter Hierarchy","code":""},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"models-and-environmental-standards-names","dir":"Articles","previous_headings":"4 Detailed design > 4.5 Shared Data Tables","what":"Models and Environmental Standards names","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"","code":"hera::catalogue # A tibble: 7 Ã— 15   analysis_name           assessment standard location sample   validation_funcâ€¦   <chr>                   <chr>      <list>   <list>   <list>   <lgl>            1 Combined aquatic plants Combined â€¦ <tibble> <tibble> <tibble> NA               2 River Diatoms           River Diaâ€¦ <tibble> <tibble> <tibble> NA               3 River Invertebrates     Freshwateâ€¦ <tibble> <tibble> <tibble> NA               4 River Macrophytes       UKTAG Rivâ€¦ <tibble> <tibble> <tibble> NA               5 Benthic Invertebrates,â€¦ Fish Farmâ€¦ <tibble> <tibble> <tibble> NA               6 River Invertebrates     Rapid Assâ€¦ <tibble> <tibble> <tibble> NA               7 River Invertebrates     rict       <tibble> <tibble> <tibble> NA               # â€¦ with 9 more variables: indices_function <list>, prediction_function <list>, #   assessment_function <list>, confidence_function <list>, indices <list>, #   assessment_table <list>, questions <list>, predictors <list>, #   predictions <list>"},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"model-platform","dir":"Articles","previous_headings":"4 Detailed design","what":"Model platform","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"RFC mainly looking share design inputs outputs classification tools. framework however encourage shared principles thinking approach modelling required drives classification method. However, see need prescribe modelling program software. Researchers can download reference predictor data required use software desire. Ultimately, model need called R. either model needs written R language can called R (Python, fortran, C++ etc). Alternatively, researchers canâ€™t provide api R call, recommendation use R - integrates directly pipeline. modelling completed, model object saved deployed. existing future data collected using platform run model sample level. Researchers can build tools display aggregate sample level results required (Waterbody, Year, Catchment etc). possible share techniques producing Confidence Class, assessment data suitability adjustment factors etc.","code":""},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"how-we-teach-this","dir":"Articles","previous_headings":"","what":"How we Teach This","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"new regulatory developments updates requirements identified, lead contacts agencies method developers â€˜-boardedâ€™ demonstrate design principles collaborative framework packages. skill development required training can provided, additional external internal support agency commissioning work. workshop lead data experts / R coders agency delivers institutional knowledge internally developed tools fit shared design philosophy well setting expectations collaboration external researchers.","code":""},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"sharing","dir":"Articles","previous_headings":"5 How we Teach This","what":"Sharing","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"Hera allows multiple ecological elements assessed interface. just interface shared. areas infrastructure shared including: Reporting comparison tools can also shared multiple elements. Validation checks universally required mechanisms shared easily configurable new models/methods. Testing infrastructure. Confidence class data suitability algorithms.","code":""},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"organisation","dir":"Articles","previous_headings":"5 How we Teach This","what":"Organisation","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"UKTAG sub-groups nominated leads devolved agencies contribute new method develops tools shared collection packages. tools agency specific, also make use platform required. agencies commission new tools developed, researchers can upload predictive variables, reference data models central repo easier collaboration.","code":""},{"path":[]},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"unresolved-questions","dir":"Articles","previous_headings":"","what":"Unresolved questions","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"reference/predictor data combined single repository / web service?","code":""},{"path":[]},{"path":[]},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"fcs2-tool","dir":"Articles","previous_headings":"8 Appendix > 8.1 List of current data structure in R packages","what":"FCS2 tool","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"Demo input data format (truncated) full list column names Ouput","code":"DataHeldBy SiteCode Alternative.site.code Repeat.check SiteName 1         EA   525052                    NA            N    13809 2         EA   507441                    NA            Y    13810 3         EA   525051                    NA            N    34611 4         EA   122881                    NA            Y     5435   Site.description ... 1            13809 ... 2            13810 ... 3            34611 ... 4             5435 ...  [1] #DataHeldBy#                 #SiteCode#                    [3] #Alternative.site.code#      #Repeat.check#                [5] #SiteName#                   #Site.description#            [7] #Easting#                    #Northing#                    [9] #NGR#                        #SurveyDate#                 [11] #WBId#                       #WBName#                     [13] #NumberOfRuns#               #SurveyArea#                 [15] #WetWidth#                   #Slope#                      [17] #BarrierType#                #ImpassableBarriers#         [19] #Sense.check.passed.#        #CatchmentAreaUpstream#      [21] #CatchmentDrainageDirection# #GeologyClass#               [23] #Altitude#                   #DistanceFromSource#         [25] #DistanceToSea#              #AnnualMeanFlow#             [27] #AlkalinityValue#            #TotalPValue#                [29] #DOCValue#                   #SuspendedSolidsValue#       [31] #IOH.hydrometric.area#       #HydrometricAreaNo#          [33] #LandUse.AgriculturalAreas#  #LandUse.ConiferousForests#  [35] #LandUse.Wetlands#           #Substrate.Small#            [37] #Substrate.Large#            #Substrate.Bedrock#          [39] #Salmon_fry.Run1Total#       #Salmon_fry.Run2Total#       [41] #Salmon_fry.Run3Total#       #Salmon_fry.Run4Total#       [43] #Salmon_parr.Run1Total#      #Salmon_parr.Run2Total#      [45] #Salmon_parr.Run3Total#      #Salmon_parr.Run4Total#      [47] #Trout_fry.Run1Total#        #Trout_fry.Run2Total#        [49] #Trout_fry.Run3Total#        #Trout_fry.Run4Total#        [51] #Trout_parr.Run1Total#       #Trout_parr.Run2Total#       [53] #Trout_parr.Run3Total#       #Trout_parr.Run4Total# WBName ... 1         EA 03/09/2015   525052    13809 10675                          ... 2         EA 04/09/2015   507441    13810 10675 White Esk (u/s Rae Burn) ... 3         EA 03/09/2015   525051    34611 10676                          ... 4         EA 01/09/2015   122881     5435 10676            Garwald Water ...  [1] #DataHeldBy#                                   [2] #SurveyDate#                                   [3] #SiteCode#                                     [4] #SiteName#                                     [5] #WBId#                                         [6] #WBName#                                       [7] #All species WB EQR Bad %#                     [8] #All species WB EQR Poor %#                    [9] #All species WB EQR Moderate %#               [10] #All species WB EQR Good %#                   [11] #All species WB EQR High %#                   [12] #All species WB EQR mean#                     [13] #All species survey EQR Bad %#                [14] #All species survey EQR Poor %#               [15] #All species survey EQR Moderate %#           [16] #All species survey EQR Good %#               [17] #All species survey EQR High %#               [18] #All species survey EQR mean#                 [19] #Salmon_fry WB EQR mean#                      [20] #Salmon_fry survey EQR mean#                  [21] #Salmon_fry observed total catch#             [22] #Salmon_fry probability present#              [23] #Salmon_fry expected total catch if present#  [24] #Salmon_fry expected total catch#             [25] #Salmon_parr WB EQR mean#                     [26] #Salmon_parr survey EQR mean#                 [27] #Salmon_parr observed total catch#            [28] #Salmon_parr probability present#             [29] #Salmon_parr expected total catch if present# [30] #Salmon_parr expected total catch#            [31] #Trout_fry WB EQR mean#                       [32] #Trout_fry survey EQR mean#                   [33] #Trout_fry observed total catch#              [34] #Trout_fry probability present#               [35] #Trout_fry expected total catch if present#   [36] #Trout_fry expected total catch#              [37] #Trout_parr WB EQR mean#                      [38] #Trout_parr survey EQR mean#                  [39] #Trout_parr observed total catch#             [40] #Trout_parr probability present#              [41] #Trout_parr expected total catch if present#  [42] #Trout_parr expected total catch#"},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"darleq-tool","dir":"Articles","previous_headings":"8 Appendix > 8.1 List of current data structure in R packages","what":"Darleq tool","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"Input data DARLEQ3 tool list dataframes. â€™s example input data format (truncated) full list column names Output (list dataframes)","code":"AC023A AC083A AC143A AC161A AC9999  AD009A   AM001A AM004A ... SPR001 0.000000      0      0      0      0 0.31348 0.000000      0 ... AUT001 0.000000      0      0      0      0 0.00000 0.000000      0 ... SPR002 0.332226      0      0      0      0 0.00000 0.332226      0 ... AUT002 0.000000      0      0      0      0 0.00000 0.000000      0 ...   [1] \"AC023A\" \"AC083A\" \"AC143A\" \"AC161A\" \"AC9999\" \"AD009A\" \"AM001A\" \"AM004A\"   [9] \"AM011A\" \"AM012A\" \"AM013A\" \"AM084A\" \"AM9999\" \"AP001A\" \"AS001A\" \"AS003A\"  [17] \"AU003A\" \"AU9999\" \"BR001A\" \"BR9999\" \"CA002A\" \"CA9999\" \"CC9999\" \"CI002A\"  [25] \"CI005A\" \"CL001A\" \"CM004A\" \"CM006A\" \"CM007A\" \"CM009A\" \"CM013A\" \"CM022A\"  [33] \"CM038A\" \"CM041A\" \"CM9999\" \"CN001A\" \"CO001A\" \"CO001B\" \"CO001C\" \"CO005A\"  [41] \"CO010A\" \"CO9999\" \"CV001A\" \"CV005A\" \"CY003A\" \"CY011A\" \"CY019A\" \"CY9999\"  [49] \"DD001A\" \"DE001A\" \"DP007A\" \"DP012A\" \"DP9999\" \"DT003A\" \"DT004A\" \"DT010A\"  [57] \"DT021A\" \"DT022A\" \"DT9999\" \"EC001A\" \"EL001A\" \"EP9999\" \"EU002A\" \"EU009A\"  [65] \"EU009C\" \"EU047A\" \"EU070A\" \"EU9999\" \"EY003A\" \"EY004A\" \"EY005A\" \"EY011A\"  [73] \"EY015A\" \"EY016A\" \"EY017A\" \"EY9999\" \"FA021A\" \"FF001A\" \"FF002A\" \"FF9999\"  [81] \"FR007A\" \"FR007C\" \"FR008A\" \"FR009A\" \"FR009B\" \"FR019A\" \"FR026A\" \"FR9999\"  [89] \"FU001A\" \"FU002A\" \"FU037A\" \"GO001A\" \"GO003A\" \"GO004A\" \"GO006A\" \"GO013A\"  [97] \"GO013C\" \"GO019A\" \"GO023A\" \"GO023B\" \"GO024C\" \"GO027A\" \"GO029A\" \"GO050A\" [105] \"GO052A\" \"GO055A\" \"GO066A\" \"GO9999\" \"GY001A\" \"GY005A\" \"HA001A\" \"HN001A\" [113] \"LU001A\" \"LU003A\" \"MA9999\" \"ME015A\" \"MR001A\" \"MR001B\" \"NA003A\" \"NA007A\" [121] \"NA008A\" \"NA009A\" \"NA021A\" \"NA023A\" \"NA026A\" \"NA027A\" \"NA030A\" \"NA035A\" [129] \"NA037A\" \"NA042A\" \"NA051A\" \"NA054A\" \"NA063A\" \"NA066A\" \"NA080A\" \"NA084A\" [137] \"NA095A\" \"NA112A\" \"NA114A\" \"NA124A\" \"NA134A\" \"NA433A\" \"NA433D\" \"NA462A\" [145] \"NA675A\" \"NA745A\" \"NA751A\" \"NA764A\" \"NA768A\" \"NA9999\" \"NE008A\" \"NI002A\" [153] \"NI005A\" \"NI006A\" \"NI008A\" \"NI009A\" \"NI010A\" \"NI014A\" \"NI015A\" \"NI017A\" [161] \"NI021A\" \"NI024A\" \"NI025A\" \"NI027A\" \"NI028A\" \"NI031A\" \"NI033A\" \"NI034A\" [169] \"NI042A\" \"NI043A\" \"NI044A\" \"NI046A\" \"NI049A\" \"NI052A\" \"NI065A\" \"NI080A\" [177] \"NI099A\" \"NI110A\" \"NI152A\" \"NI164B\" \"NI166A\" \"NI171A\" \"NI198A\" \"NI199A\" [185] \"NI212A\" \"NI9999\" \"PE002A\" \"PI014A\" \"PI9999\" \"PS001A\" \"RC002A\" \"RE001A\" [193] \"SA003A\" \"SA012A\" \"SL001A\" \"SL002A\" \"SR001A\" \"SR002A\" \"SS002A\" \"SS003A\" [201] \"ST001A\" \"ST9999\" \"SU001A\" \"SU032A\" \"SU073A\" \"SU9999\" \"SY001A\" \"SY003A\" [209] \"SY004A\" \"SY004B\" \"SY013A\" \"SY043A\" \"TA001A\" \"TA002A\" \"TE003A\" \"TF003A\" [217] \"TF015A\" \"TF9999\" \"TH038A\" \"TU003A\" \"UN9994\" \"UN9995\" \"YH001A\" \"ZZZ834\" [225] \"ZZZ835\" \"ZZZ842\" \"ZZZ844\" \"ZZZ846\" \"ZZZ847\" \"ZZZ852\" \"ZZZ859\" \"ZZZ866\" [233] \"ZZZ869\" \"ZZZ871\" \"ZZZ872\" \"ZZZ885\" \"ZZZ887\" \"ZZZ888\" \"ZZZ893\" \"ZZZ895\" [241] \"ZZZ896\" \"ZZZ897\" \"ZZZ900\" \"ZZZ901\" \"ZZZ905\" \"ZZZ907\" \"ZZZ908\" \"ZZZ910\" [249] \"ZZZ911\" \"ZZZ912\" \"ZZZ920\" \"ZZZ921\" \"ZZZ922\" \"ZZZ923\" \"ZZZ926\" \"ZZZ927\" [257] \"ZZZ939\" \"ZZZ941\" \"ZZZ949\" \"ZZZ953\" \"ZZZ980\" \"ZZZ982\" \"ZZZ985\" \"ZZZ986\" [265] \"ZZZ987\" [1] \"SampleID\"    \"SiteID\"      \"SAMPLE_DATE\" \"Alkalinity\"  \"Stream\"      [6] \"Reach\" N_TDI5LM N2_TDI5LM Max_TDI5LM   TDI5LM  eTDI5LM SPR001       41     12.39      16.93 55.60483 68.49447 AUT001       23      3.09      51.57 70.01608 68.49447 SPR002       55     13.14      20.93 70.66666 69.28261 AUT002       39      7.69      26.91 66.08840 69.28261 SPR003       39      9.37      27.30 50.40770 65.48689 AUT003       32      5.87      37.14 39.65652 65.48689    CoCB   ROM  CoCHG CoCMPB ROM_GM 43 0.00 20.41  98.43   1.57   1.57 33 0.00 39.91  96.99   3.01   3.01 42 0.00  0.00 100.00   0.00   0.00 41 0.00  0.00 100.00   0.00   0.00 36 0.21 87.48  12.56  87.44  12.56 35 0.00 28.74  86.12  13.88  13.88 [1] \"TDI5LM\" $N_samples [1] 100  $N_samples_gt_zero [1] 100  $N_taxa [1] 265  $N_taxa_gt_zero [1] 265"},{"path":"https://ecodata1.github.io/hera/articles/hera_specifications.html","id":"rict","dir":"Articles","previous_headings":"8 Appendix > 8.1 List of current data structure in R packages","what":"RICT","title":"Request for Comment: Shared Design Principles for Creating and Deploying Regulatory Methods","text":"â€™s example input data format (truncated) full list column names Output","code":"SITE      Waterbody Year NGR Easting Northing Altitude Slope ... 1 MYR-GB-01-R Waterbody name 2016  SE   94200    91000       60   2.7 ... 2 MYR-GB-01-R Waterbody name 2017  SE   94200    91000       60   2.7 ... 3 MYR-GB-01-R Waterbody name 2018  SE   94200    91000       60   2.7 ... 4 MYR-GB-05-R Waterbody name 2016  TL   92100    27200       15   1.3 ...  [1] \"SITE\"                             \"Waterbody\"                         [3] \"Year\"                             \"NGR\"                               [5] \"Easting\"                          \"Northing\"                          [7] \"Altitude\"                         \"Slope\"                             [9] \"Discharge\"                        \"Velocity\"                         [11] \"Dist_from_Source\"                 \"Mean_Width\"                       [13] \"Mean_Depth\"                       \"Alkalinity\"                       [15] \"Boulder_Cobbles\"                  \"Pebbles_Gravel\"                   [17] \"Sand\"                             \"Silt_Clay\"                        [19] \"Hardness\"                         \"Calcium\"                          [21] \"Conductivity\"                     \"Spr_Season_ID\"                    [23] \"Spr_TL2_WHPT_ASPT (AbW,DistFam)\"  \"Spr_TL2_WHPT_NTaxa (AbW,DistFam)\" [25] \"Spr_Ntaxa_Bias\"                   \"Sum_Season_ID\"                    [27] \"Sum_TL2_WHPT_ASPT (AbW,DistFam)\"  \"Sum_TL2_WHPT_NTaxa (AbW,DistFam)\" [29] \"Sum_Ntaxa_Bias\"                   \"Aut_Season_ID\"                    [31] \"Aut_TL2_WHPT_ASPT (AbW,DistFam)\"  \"Aut_TL2_WHPT_NTaxa (AbW,DistFam)\" [33] \"Aut_Ntaxa_Bias\" ROW        SITE YEAR FAIL 1  16 TST-NI-04-D 2018  --- 2   4 TST-NI-04-R 2018  ---                                                                                WARNING 1 You provided LATITUDE: 55.1996487989298, max value used to train model: 55.1995835.  2 You provided LATITUDE: 55.1996487989298, max value used to train model: 55.1995835.    REPLACEMENT 1         --- 2         ---          SITE YEAR      WATERBODY H_NTAXA_spr_aut G_NTAXA_spr_aut 1 TST-NI-01-R 2018 Waterbody name           96.61             3.3 2 TST-NI-02-R 2018 Waterbody name            4.51           28.34 3 TST-NI-03-R 2018 Waterbody name           83.04           15.63 4 TST-NI-04-R 2018 Waterbody name           99.27            0.72   M_NTAXA_spr_aut ... 1            0.09 ... 2           48.65 ... 3            1.32 ... 4            0.01 ...  [1] \"SITE\"                              \"YEAR\"                               [3] \"WATERBODY\"                         \"H_NTAXA_spr_aut\"                    [5] \"G_NTAXA_spr_aut\"                   \"M_NTAXA_spr_aut\"                    [7] \"P_NTAXA_spr_aut\"                   \"B_NTAXA_spr_aut\"                    [9] \"mostProb_NTAXA_spr_aut\"            \"NTAXA_aver_spr_aut\"                [11] \"H_ASPT_spr_aut\"                    \"G_ASPT_spr_aut\"                    [13] \"M_ASPT_spr_aut\"                    \"P_ASPT_spr_aut\"                    [15] \"B_ASPT_spr_aut\"                    \"mostProb_ASPT_spr_aut\"             [17] \"ASPT_aver_spr_aut\"                 \"mintawhpt_spr_aut_H_MINTA_\"        [19] \"mintawhpt_spr_aut_G_MINTA_\"        \"mintawhpt_spr_aut_M_MINTA_\"        [21] \"mintawhpt_spr_aut_P_MINTA_\"        \"mintawhpt_spr_aut_B_MINTA_\"        [23] \"mintawhpt_spr_aut_mostProb_MINTA_\""},{"path":"https://ecodata1.github.io/hera/articles/leafpacs.html","id":"details","dir":"Articles","previous_headings":"","what":"Details","title":"LEAPACS","text":"classification method enables assessment macrophytes rivers according requirements Water Framework Directive (WFD). Macrophytes larger plants fresh water easily seen naked eye, including vascular plants, bryophytes, stoneworts (Characeae) macro-algal growths. River LEAFPACS2 uses species nutrient index together measures diversity abundance. method replaces classification tool River LEAFPACS used first river basin planning cycle UK.","code":""},{"path":"https://ecodata1.github.io/hera/articles/leafpacs.html","id":"data","dir":"Articles","previous_headings":"","what":"Data","title":"LEAPACS","text":"available, add dataframe containing data variables including questions, predictors, aggregations required complete assessment process. Example:","code":"#> # A tibble: 6 Ã— 24 #>   location_id location_description           easting northing latitude longitude #>   <chr>       <fct>                            <dbl>    <dbl>    <dbl>     <dbl> #> 1 8175        River Eden @ Kemback Gauging â€¦  341452   715796     56.3     -2.95 #> 2 8175        River Eden @ Kemback Gauging â€¦  341452   715796     56.3     -2.95 #> 3 8175        River Eden @ Kemback Gauging â€¦  341452   715796     56.3     -2.95 #> 4 8175        River Eden @ Kemback Gauging â€¦  341452   715796     56.3     -2.95 #> 5 8175        River Eden @ Kemback Gauging â€¦  341452   715796     56.3     -2.95 #> 6 8175        River Eden @ Kemback Gauging â€¦  341452   715796     56.3     -2.95 #> # â€¦ with 18 more variables: date_taken <dttm>, sample_id <chr>, #> #   analysis_name <fct>, question <chr>, response <fct>, units <fct>, #> #   mean_alkalinity <dbl>, result_id <chr>, grid_reference <chr>, #> #   standard <chr>, quality_element <chr>, water_body_id <dbl>, label <fct>, #> #   dist_from_source <dbl>, alkalinity <dbl>, slope <dbl>, #> #   source_altitude <dbl>, parameter <chr>"},{"path":"https://ecodata1.github.io/hera/articles/leafpacs.html","id":"locate","dir":"Articles","previous_headings":"","what":"Locate","title":"LEAPACS","text":"Metadata required location","code":"#> # A tibble: 1 Ã— 3 #>   location_id location_description                 grid_reference #>   <chr>       <fct>                                <chr>          #> 1 8175        River Eden @ Kemback Gauging Station NO 41452 15796"},{"path":"https://ecodata1.github.io/hera/articles/leafpacs.html","id":"sample","dir":"Articles","previous_headings":"","what":"Sample","title":"LEAPACS","text":"Metadata required assess sample. (Excluding direct observations)","code":"#> # A tibble: 6 Ã— 3 #>   parameter         sample_id date_taken          #>   <chr>             <chr>     <dttm>              #> 1 NA                3256506   2017-07-20 12:15:00 #> 2 NA                3201863   2017-05-17 15:00:00 #> 3 NA                3206202   2017-05-09 10:55:00 #> 4 NA                3206201   2017-05-09 10:55:00 #> 5 River Macrophytes 3256506   2017-07-20 12:15:00 #> 6 NA                3294945   2017-09-21 10:00:00"},{"path":"https://ecodata1.github.io/hera/articles/leafpacs.html","id":"observe","dir":"Articles","previous_headings":"","what":"Observe","title":"LEAPACS","text":"survey method used conform CEN 14184 : 2003 Water quality â€“ Guidance standard surveying aquatic macrophytes running waters. list question example responses collected one times per sample.","code":"#> # A tibble: 51 Ã— 3 #>    question            response label                      #>    <chr>               <fct>    <fct>                      #>  1 percentagecoverband 1        Cinclidotus fontinaloides  #>  2 percentagecoverband 1        Mentha aquatica            #>  3 percentagecoverband 1        Scirpus sylvaticus         #>  4 percentagecoverband 1        Juncus articulatus         #>  5 percentagecoverband 2        Glyceria maxima            #>  6 percentagecoverband 1        Bryum capillare            #>  7 percentagecoverband 2        Leptodictyum riparium      #>  8 percentagecoverband 1        Vaucheria                  #>  9 percentagecoverband 2        Platyhypnidium riparioides #> 10 percentagecoverband 2        Dichodontium pellucidum    #> # â€¦ with 41 more rows"},{"path":"https://ecodata1.github.io/hera/articles/leafpacs.html","id":"metrics","dir":"Articles","previous_headings":"","what":"Metrics","title":"LEAPACS","text":"Create metrics observed data. Metrics statistical summaries observed data indices derived observed data.","code":"#> Calculating indices... #> Loading required package: tibble #> # A tibble: 6 Ã— 3 #>   sample_id question  response         #>   <chr>     <chr>     <chr>            #> 1 1840203   rmni      6.75344512851459 #> 2 1840203   rn_a_taxa 6                #> 3 1840203   n_rfg     4                #> 4 1840203   rfa_pc    5.1              #> 5 30749     rmni      8.661153473      #> 6 30749     rn_a_taxa 1"},{"path":"https://ecodata1.github.io/hera/articles/leafpacs.html","id":"predictors","dir":"Articles","previous_headings":"","what":"Predictors","title":"LEAPACS","text":"Predictors expected values used assessment.","code":""},{"path":"https://ecodata1.github.io/hera/articles/leafpacs.html","id":"predict","dir":"Articles","previous_headings":"","what":"Predict","title":"LEAPACS","text":"Create predicted expected responses questions.","code":"#> Calculating predictions... #> # A tibble: 4 Ã— 3 #>   location_id question  response         #>   <chr>       <chr>     <chr>            #> 1 8175        ref_taxa  8.18193000184553 #> 2 8175        ref_algae 0.05             #> 3 8175        ref_nfg   5.26620315804775 #> 4 8175        ref_rmni  5.96735638218237"},{"path":"https://ecodata1.github.io/hera/articles/leafpacs.html","id":"assessment","dir":"Articles","previous_headings":"","what":"Assessment","title":"LEAPACS","text":"now observed expected values, letâ€™s assess ! table categories assess observed expected (predicted) values.","code":"#> # A tibble: 5 Ã— 3 #>   assesssment value level #>   <chr>       <dbl> <int> #> 1 high          0.8     1 #> 2 good          0.6     2 #> 3 moderate      0.4     3 #> 4 poor          0.2     4 #> 5 bad           0       5"},{"path":"https://ecodata1.github.io/hera/articles/leafpacs.html","id":"assess","dir":"Articles","previous_headings":"","what":"Assess","title":"LEAPACS","text":"function compare observed expected.","code":"#> Calculating Assessment #> # A tibble: 324 Ã— 3 #>    sample_id question response                                 #>    <chr>     <chr>    <chr>                                    #>  1 3256506   class    poor                                     #>  2 3256506   eqr      0.78198695287295                         #>  3 3256506   status   classified                               #>  4 3256506   level    4                                        #>  5 3201863   class    NA                                       #>  6 3201863   eqr      NA                                       #>  7 3201863   status   unclassifiable - no aquatic taxa present #>  8 3201863   level    NA                                       #>  9 3206202   class    NA                                       #> 10 3206202   eqr      NA                                       #> # â€¦ with 314 more rows"},{"path":"https://ecodata1.github.io/hera/articles/leafpacs.html","id":"confidence","dir":"Articles","previous_headings":"","what":"Confidence","title":"LEAPACS","text":"Confidence assessment","code":"#> Calculating confidence... #> # A tibble: 405 Ã— 3 #>    sample_id question response #>    <chr>     <chr>    <chr>    #>  1 3256506   high     36.3     #>  2 3256506   good     63.4     #>  3 3256506   moderate 0.3      #>  4 3256506   poor     0        #>  5 3256506   bad      0        #>  6 3201863   high     NA       #>  7 3201863   good     NA       #>  8 3201863   moderate NA       #>  9 3201863   poor     NA       #> 10 3201863   bad      NA       #> # â€¦ with 395 more rows"},{"path":"https://ecodata1.github.io/hera/articles/leafpacs.html","id":"checklist","dir":"Articles","previous_headings":"","what":"Checklist","title":"LEAPACS","text":"","code":"#> Warning in standard$required[1:6] <- c(TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, : #> number of items to replace is not a multiple of replacement length #> Test passed ðŸ¥‡ #> Test passed ðŸ˜¸"},{"path":"https://ecodata1.github.io/hera/articles/leafpacs.html","id":"update-hera","dir":"Articles","previous_headings":"","what":"Update hera","title":"LEAPACS","text":"","code":"#> # A tibble: 7 Ã— 15 #>   analysis_name           assessment standard location sample   validation_funcâ€¦ #>   <chr>                   <chr>      <list>   <list>   <list>   <lgl>            #> 1 Combined aquatic plants Combined â€¦ <tibble> <tibble> <tibble> NA               #> 2 River Diatoms           River Diaâ€¦ <tibble> <tibble> <tibble> NA               #> 3 River Invertebrates     Freshwateâ€¦ <tibble> <tibble> <tibble> NA               #> 4 Benthic Invertebrates,â€¦ Fish Farmâ€¦ <tibble> <tibble> <tibble> NA               #> 5 River Invertebrates     Rapid Assâ€¦ <tibble> <tibble> <tibble> NA               #> 6 River Invertebrates     rict       <tibble> <tibble> <tibble> NA               #> 7 River Macrophytes       UKTAG Rivâ€¦ <tibble> <tibble> <tibble> NA               #> # â€¦ with 9 more variables: indices_function <list>, prediction_function <list>, #> #   assessment_function <list>, confidence_function <list>, indices <list>, #> #   assessment_table <list>, questions <list>, predictors <list>, #> #   predictions <list> #> âœ” Setting active project to '/home/runner/work/hera/hera' #> âœ” Saving 'catalogue' to 'data/catalogue.rda' #> â€¢ Document your data (see 'https://r-pkgs.org/data.html')"},{"path":"https://ecodata1.github.io/hera/articles/leafpacs.html","id":"launch-app","dir":"Articles","previous_headings":"","what":"Launch app","title":"LEAPACS","text":"","code":"# No need to edit this code launch_app(new_catalogue = catalogue, data = all_data)"},{"path":"https://ecodata1.github.io/hera/articles/rict.html","id":"welcome","dir":"Articles","previous_headings":"","what":"Welcome","title":"RICT","text":"document created following generic assessment guidance.","code":""},{"path":[]},{"path":"https://ecodata1.github.io/hera/articles/rict.html","id":"data-sources","dir":"Articles","previous_headings":"","what":"Data Sources","title":"RICT","text":"List data sources (test ). Can source demo data stored within package, web services shared online file.","code":""},{"path":"https://ecodata1.github.io/hera/articles/rict.html","id":"data","dir":"Articles","previous_headings":"","what":"Data","title":"RICT","text":"","code":"#> Downloading data from data.gov.uk web services..."},{"path":"https://ecodata1.github.io/hera/articles/rict.html","id":"locate","dir":"Articles","previous_headings":"","what":"Locate","title":"RICT","text":"Metadata required location","code":"#> # A tibble: 2 Ã— 3 #>   location_id                                    location_descriâ€¦ grid_reference #>   <chr>                                          <chr>            <chr>          #> 1 http://environment.data.gov.uk/ecology/site/bâ€¦ DERWENT (DALES)â€¦ SE 70730 63640 #> 2 http://environment.data.gov.uk/ecology/site/bâ€¦ CAM - 92751      TL 35550 54580"},{"path":"https://ecodata1.github.io/hera/articles/rict.html","id":"sample","dir":"Articles","previous_headings":"","what":"Sample","title":"RICT","text":"Metadata required assess sample. (Excluding direct observations)","code":"#> # A tibble: 6 Ã— 3 #>   parameter         sample_id date_taken #>   <chr>             <chr>     <chr>      #> 1 River Macrophytes 777394    2018-08-03 #> 2 River Macrophytes 758757    2017-07-20 #> 3 River Macrophytes 724530    2015-09-08 #> 4 River Macrophytes 699722    2014-09-05 #> 5 River Macrophytes 628979    2011-09-02 #> 6 River Diatoms     609895    2011-02-10"},{"path":"https://ecodata1.github.io/hera/articles/rict.html","id":"observe","dir":"Articles","previous_headings":"","what":"Observe","title":"RICT","text":"","code":"#> # A tibble: 0 Ã— 3 #> # â€¦ with 3 variables: question <chr>, response <chr>, label <chr>"},{"path":"https://ecodata1.github.io/hera/articles/rict.html","id":"metrics","dir":"Articles","previous_headings":"","what":"Metrics","title":"RICT","text":"Calculate WHPT metric (currently metric used rict classification).","code":"#> Warning in mask$eval_all_mutate(quo): NAs introduced by coercion #> # A tibble: 69 Ã— 3 #>    sample_id question   response #>    <chr>     <chr>      <chr>    #>  1 11125     WHPT_SCORE 17.3     #>  2 320838    WHPT_SCORE 150.3    #>  3 331662    WHPT_SCORE 151.8    #>  4 331673    WHPT_SCORE 118.1    #>  5 331674    WHPT_SCORE 106.2    #>  6 345636    WHPT_SCORE 154.3    #>  7 345859    WHPT_SCORE 131      #>  8 377128    WHPT_SCORE 163.9    #>  9 388111    WHPT_SCORE 130.3    #> 10 390329    WHPT_SCORE 171.8    #> # â€¦ with 59 more rows"},{"path":[]},{"path":"https://ecodata1.github.io/hera/articles/rict.html","id":"predict","dir":"Articles","previous_headings":"","what":"Predict","title":"RICT","text":"","code":"#> Warning in .f(.x[[i]], ...): NAs introduced by coercion #> Variables for the 'physical' model detected - applying relevant checks. #> Grid reference values detected for 'GB' - applying relevant checks. #> Success, all validation checks passed! #> Variables for the 'physical' model detected - applying relevant checks. #> Grid reference values detected for 'GB' - applying relevant checks. #> Success, all validation checks passed! #> # A tibble: 2 Ã— 3 #>   location_id                                         question          response #>   <chr>                                               <chr>             <chr>    #> 1 http://environment.data.gov.uk/ecology/site/bio/100 REFERENCE WHPT Aâ€¦ 4.57529â€¦ #> 2 http://environment.data.gov.uk/ecology/site/bio/100 REFERENCE WHPT Nâ€¦ 24.8816â€¦"},{"path":"https://ecodata1.github.io/hera/articles/rict.html","id":"assessment","dir":"Articles","previous_headings":"","what":"Assessment","title":"RICT","text":"","code":"#> # A tibble: 5 Ã— 2 #>   asesssment value #>   <chr>      <dbl> #> 1 high         0.8 #> 2 good         0.6 #> 3 moderate     0.4 #> 4 poor         0.2 #> 5 bad          0"},{"path":"https://ecodata1.github.io/hera/articles/rict.html","id":"assess","dir":"Articles","previous_headings":"","what":"Assess","title":"RICT","text":"","code":"#> NULL"},{"path":"https://ecodata1.github.io/hera/articles/rict.html","id":"confidence","dir":"Articles","previous_headings":"","what":"Confidence","title":"RICT","text":"Confidence assessment.","code":""},{"path":"https://ecodata1.github.io/hera/articles/rict.html","id":"checklist","dir":"Articles","previous_headings":"","what":"Checklist","title":"RICT","text":"","code":"#> Warning in standard$required[1:6] <- c(TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, : #> number of items to replace is not a multiple of replacement length #> Test passed ðŸ˜¸ #> Test passed ðŸ¥‡"},{"path":"https://ecodata1.github.io/hera/articles/rict.html","id":"update","dir":"Articles","previous_headings":"","what":"Update","title":"RICT","text":"","code":"#> # A tibble: 7 Ã— 15 #>   analysis_name           assessment standard location sample   validation_funcâ€¦ #>   <chr>                   <chr>      <list>   <list>   <list>   <lgl>            #> 1 Combined aquatic plants Combined â€¦ <tibble> <tibble> <tibble> NA               #> 2 River Diatoms           River Diaâ€¦ <tibble> <tibble> <tibble> NA               #> 3 River Invertebrates     Freshwateâ€¦ <tibble> <tibble> <tibble> NA               #> 4 River Macrophytes       UKTAG Rivâ€¦ <tibble> <tibble> <tibble> NA               #> 5 Benthic Invertebrates,â€¦ Fish Farmâ€¦ <tibble> <tibble> <tibble> NA               #> 6 River Invertebrates     Rapid Assâ€¦ <tibble> <tibble> <tibble> NA               #> 7 River Invertebrates     rict       <tibble> <tibble> <tibble> NA               #> # â€¦ with 9 more variables: indices_function <list>, prediction_function <list>, #> #   assessment_function <list>, confidence_function <list>, indices <list>, #> #   assessment_table <list>, questions <list>, predictors <list>, #> #   predictions <list> #> âœ” Setting active project to '/home/runner/work/hera/hera' #> âœ” Saving 'catalogue' to 'data/catalogue.rda' #> â€¢ Document your data (see 'https://r-pkgs.org/data.html')"},{"path":"https://ecodata1.github.io/hera/articles/rict.html","id":"launch-app","dir":"Articles","previous_headings":"","what":"Launch app","title":"RICT","text":"interactive application displaying results assessment.","code":"# No need to edit this code launch_app(new_catalogue = catalogue, data = data)"},{"path":"https://ecodata1.github.io/hera/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Tim Foster. Author, maintainer.","code":""},{"path":"https://ecodata1.github.io/hera/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Foster T (2022). hera: Building Environmental Models Together. https://ecodata1.github.io/hera, https://github.com/ecodata1/hera.","code":"@Manual{,   title = {hera: Building Environmental Models Together},   author = {Tim Foster},   year = {2022},   note = {https://ecodata1.github.io/hera, https://github.com/ecodata1/hera}, }"},{"path":"https://ecodata1.github.io/hera/index.html","id":"hera","dir":"","previous_headings":"","what":"Building Environmental Models Together","title":"Building Environmental Models Together","text":"WORK PROGRESS Hera prototype package explore future regulatory environmental modelling. package outlines possible approaches creating shared research platform building, testing deploying models used assess environmental risk regulatory purposes. See Request comment paper outline broad technical specifications. Hera envisaged opinionated collections R packages designed sharing environmental models. packages share underlying design, grammar data structures. allows separation concerns data, models, post-modelling steps visualisation. Allowing greater collaboration sharing methods tools.","code":""},{"path":"https://ecodata1.github.io/hera/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Building Environmental Models Together","text":"Install development version GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"ecodata1/hera\")"},{"path":"https://ecodata1.github.io/hera/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"Building Environmental Models Together","text":"Read white paper article documentation website (work progress)","code":""},{"path":"https://ecodata1.github.io/hera/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Building Environmental Models Together","text":"Classify demo data number different assessment parameters: Alternatively, breakdown step assessment:","code":"library(hera) data <- hera(hera::demo_data) data[1:5, c(\"sample_id\", \"parameter\", \"question\", \"response\")] #> # A tibble: 5 Ã— 4 #>   sample_id parameter         question response          #>   <chr>     <chr>             <chr>    <chr>             #> 1 1840203   River Macrophytes class    poor              #> 2 1840203   River Macrophytes eqr      0.635381220416031 #> 3 1840203   River Macrophytes status   classified        #> 4 1840203   River Macrophytes level    4                 #> 5 3256506   River Macrophytes class    bad"},{"path":"https://ecodata1.github.io/hera/index.html","id":"validate","dir":"","previous_headings":"Example","what":"Validate","title":"Building Environmental Models Together","text":"","code":"library(hera) validated <- validation(hera::demo_data) # Return validated data head(validated) #> # A tibble: 6 Ã— 22 #>   location_id location_description           easting northing latitude longitude #>   <chr>       <fct>                            <dbl>    <dbl>    <dbl>     <dbl> #> 1 8175        River Eden @ Kemback Gauging â€¦  341452   715796     56.3     -2.95 #> 2 8175        River Eden @ Kemback Gauging â€¦  341452   715796     56.3     -2.95 #> 3 8175        River Eden @ Kemback Gauging â€¦  341452   715796     56.3     -2.95 #> 4 8175        River Eden @ Kemback Gauging â€¦  341452   715796     56.3     -2.95 #> 5 8175        River Eden @ Kemback Gauging â€¦  341452   715796     56.3     -2.95 #> 6 8175        River Eden @ Kemback Gauging â€¦  341452   715796     56.3     -2.95 #> # â€¦ with 16 more variables: date_taken <dttm>, sample_id <chr>, question <chr>, #> #   response <fct>, mean_alkalinity <dbl>, grid_reference <chr>, #> #   standard <chr>, quality_element <chr>, water_body_id <dbl>, label <fct>, #> #   dist_from_source <dbl>, alkalinity <dbl>, slope <dbl>, #> #   source_altitude <dbl>, parameter <chr>, year <dbl>"},{"path":"https://ecodata1.github.io/hera/index.html","id":"metrics","dir":"","previous_headings":"Example","what":"Metrics","title":"Building Environmental Models Together","text":"","code":"indices <- indices(validated) # Calculate indices used for assessment (if required) indices[1:5, c(\"sample_id\", \"parameter\", \"question\", \"response\")] #> # A tibble: 5 Ã— 4 #>   sample_id parameter         question  response         #>   <chr>     <chr>             <chr>     <chr>            #> 1 1840203   River Macrophytes rmni      7.07013957800168 #> 2 1840203   River Macrophytes rn_a_taxa 6                #> 3 1840203   River Macrophytes n_rfg     4                #> 4 1840203   River Macrophytes rfa_pc    0                #> 5 3256506   River Macrophytes rmni      6.22099043940684"},{"path":"https://ecodata1.github.io/hera/index.html","id":"predict","dir":"","previous_headings":"Example","what":"Predict","title":"Building Environmental Models Together","text":"","code":"predictions <- prediction(validated) # Predict the expected  predictions[1:5, c(\"sample_id\", \"parameter\", \"question\", \"response\")] #> # A tibble: 5 Ã— 4 #>   sample_id parameter         question  response         #>   <chr>     <chr>             <chr>     <chr>            #> 1 3256506   River Macrophytes ref_taxa  8.18193000184553 #> 2 3256506   River Macrophytes ref_algae 0.05             #> 3 3256506   River Macrophytes ref_nfg   5.26620315804775 #> 4 3256506   River Macrophytes ref_rmni  5.96735638218237 #> 5 758729    River Macrophytes ref_taxa  8.18193000184553"},{"path":"https://ecodata1.github.io/hera/index.html","id":"assess","dir":"","previous_headings":"Example","what":"Assess","title":"Building Environmental Models Together","text":"","code":"assessments <- assessment(hera::demo_data) # Assess the observed data against the expected/predicted  assessments[1:5, c(\"sample_id\", \"parameter\", \"question\", \"response\")] #> # A tibble: 5 Ã— 4 #>   sample_id parameter         question response          #>   <chr>     <chr>             <chr>    <chr>             #> 1 1840203   River Macrophytes class    poor              #> 2 1840203   River Macrophytes eqr      0.635381220416031 #> 3 1840203   River Macrophytes status   classified        #> 4 1840203   River Macrophytes level    4                 #> 5 3256506   River Macrophytes class    bad"},{"path":"https://ecodata1.github.io/hera/reference/assessment.html","id":null,"dir":"Reference","previous_headings":"","what":"Assessment â€” assessment","title":"Assessment â€” assessment","text":"Run assessment","code":""},{"path":"https://ecodata1.github.io/hera/reference/assessment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Assessment â€” assessment","text":"","code":"assessment(data = NULL, name = NULL, catalogue = NULL)"},{"path":"https://ecodata1.github.io/hera/reference/assessment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Assessment â€” assessment","text":"data Dataframe variables hera inter-change format name Name assessment used catalogue Dataframe model_dataframe see `catalogue`","code":""},{"path":"https://ecodata1.github.io/hera/reference/assessment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Assessment â€” assessment","text":"Dataframe assessments","code":""},{"path":"https://ecodata1.github.io/hera/reference/assessment.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Assessment â€” assessment","text":"assessment() assessment","code":""},{"path":"https://ecodata1.github.io/hera/reference/assessment.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Assessment â€” assessment","text":"","code":"assessments <- assessment(demo_data) #> Hello from hera, ...work in progress! #> Hello from hera, ...work in progress! #> Warning: Discarded datum OSGB_1936 in Proj4 definition #> Hello from hera, ...work in progress! #> Hello from hera, ...work in progress! #> Hello from hera, ...work in progress! #> Loading required package: dplyr #>  #> Attaching package: â€˜dplyrâ€™ #> The following objects are masked from â€˜package:statsâ€™: #>  #>     filter, lag #> The following objects are masked from â€˜package:baseâ€™: #>  #>     intersect, setdiff, setequal, union #> Loading required package: tidyr #> Loading required package: magrittr #>  #> Attaching package: â€˜magrittrâ€™ #> The following object is masked from â€˜package:tidyrâ€™: #>  #>     extract #> Loading required package: tibble #> Calculating indices... #> Hello from hera, ...work in progress! #> Hello from hera, ...work in progress! #> Hello from hera, ...work in progress! #> You provided data without predictor variables for Freshwater Invertebrate Model analysis #> Calculating predictions... #> You provided data without predictor variables for Fish Farm assessment analysis #> You provided data without predictor variables for rict analysis #> Calculating confidence... #> Calculating Assessment #> Calculating confidence..."},{"path":"https://ecodata1.github.io/hera/reference/catalogue.html","id":null,"dir":"Reference","previous_headings":"","what":"Dataframe of models for each WFD parameter â€” catalogue","title":"Dataframe of models for each WFD parameter â€” catalogue","text":"dataset containing dataframe functions validate, calculate indices, predict reference indices, calculate classification.","code":""},{"path":"https://ecodata1.github.io/hera/reference/catalogue.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Dataframe of models for each WFD parameter â€” catalogue","text":"","code":"catalogue"},{"path":"https://ecodata1.github.io/hera/reference/catalogue.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Dataframe of models for each WFD parameter â€” catalogue","text":"data frame 1 rows 5 variables: analysis_name Name WFD analysis assessment assessment standard standard location Meta data collected Location sample Meta data collected sample validation_function Function validate data indices_function Function calculate observed indices raw   data prediction_function Function predict reference indices based   predictors assessment_function Function   assess predictions based observed predicted indices confidence_function Confidence function indices Indices assessment_table Assessment table questions Questions predictors Predictors predictions Predictions","code":""},{"path":"https://ecodata1.github.io/hera/reference/catalogue.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Dataframe of models for each WFD parameter â€” catalogue","text":"Agency sampling data","code":""},{"path":"https://ecodata1.github.io/hera/reference/combine.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine output with all columns from data relevant to assessment name\nEither by sample_id or location_id (depending how output is calculated) â€” combine","title":"Combine output with all columns from data relevant to assessment name\nEither by sample_id or location_id (depending how output is calculated) â€” combine","text":"Combine output columns data relevant assessment name Either sample_id location_id (depending output calculated)","code":""},{"path":"https://ecodata1.github.io/hera/reference/combine.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine output with all columns from data relevant to assessment name\nEither by sample_id or location_id (depending how output is calculated) â€” combine","text":"","code":"combine(output, data, name = NULL)"},{"path":"https://ecodata1.github.io/hera/reference/combine.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combine output with all columns from data relevant to assessment name\nEither by sample_id or location_id (depending how output is calculated) â€” combine","text":"output output prediction hera function data input data prediction hera function name Specify named assessment combine .e. filter `data` `output` specific assessment","code":""},{"path":"https://ecodata1.github.io/hera/reference/create_catalogue.html","id":null,"dir":"Reference","previous_headings":"","what":"Knit Together Model Functions â€” create_catalogue","title":"Knit Together Model Functions â€” create_catalogue","text":"low-level function package developers update dataframe model functions required WFD parameter.","code":""},{"path":"https://ecodata1.github.io/hera/reference/create_catalogue.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Knit Together Model Functions â€” create_catalogue","text":"","code":"create_catalogue()"},{"path":"https://ecodata1.github.io/hera/reference/create_catalogue.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Knit Together Model Functions â€” create_catalogue","text":"","code":"if (FALSE) { catalogue <- hera:::create_catalogue() usethis::use_data(catalogue, overwrite = TRUE) }"},{"path":"https://ecodata1.github.io/hera/reference/demo_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Example dataset of WFD data interchange format â€” demo_data","title":"Example dataset of WFD data interchange format â€” demo_data","text":"dataset containing ecology chemistry data","code":""},{"path":"https://ecodata1.github.io/hera/reference/demo_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example dataset of WFD data interchange format â€” demo_data","text":"","code":"demo_data"},{"path":"https://ecodata1.github.io/hera/reference/demo_data.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example dataset of WFD data interchange format â€” demo_data","text":"data frame 8477 rows 24 variables: location_id Location ID location_description Location description easting Easting northing northing latitude Latitude longitude longitude date_taken Date taken sample_id sample ID analysis_name Name analysis question question response response units units mean_alkalinity mean alkalinity result_id result ID grid_reference Grid Reference standard standard quality_element quality element water_body_id water body id label label dist_from_source distance source alkalinity alkalinity slope slope source_altitude source altitude parameter parameter","code":""},{"path":"https://ecodata1.github.io/hera/reference/demo_data.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example dataset of WFD data interchange format â€” demo_data","text":"Agency sampling data","code":""},{"path":"https://ecodata1.github.io/hera/reference/get_bulk_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Environment Agency demo data â€” get_bulk_data","title":"Get Environment Agency demo data â€” get_bulk_data","text":"Get Environment Agency demo data","code":""},{"path":"https://ecodata1.github.io/hera/reference/get_bulk_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Environment Agency demo data â€” get_bulk_data","text":"","code":"get_bulk_data()"},{"path":"https://ecodata1.github.io/hera/reference/get_bulk_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Environment Agency demo data â€” get_bulk_data","text":"dataframe demo data testing","code":""},{"path":"https://ecodata1.github.io/hera/reference/get_bulk_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Environment Agency demo data â€” get_bulk_data","text":"","code":"if (FALSE) { data <- get_demo_data() }"},{"path":"https://ecodata1.github.io/hera/reference/get_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get data â€” get_data","title":"Get data â€” get_data","text":"Import data web services (currently EA ) convert standard format `hera` regulatory assessment tool.","code":""},{"path":"https://ecodata1.github.io/hera/reference/get_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get data â€” get_data","text":"","code":"get_data(location_id = NULL, take = 10000, date_from = NULL, date_to = NULL)"},{"path":"https://ecodata1.github.io/hera/reference/get_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get data â€” get_data","text":"location_id Unique ID location. take Number observation download. date_from Start date taken window string format: \"2013-12-31\". date_to End date taken window string format: \"2015-12-31\".","code":""},{"path":"https://ecodata1.github.io/hera/reference/get_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get data â€” get_data","text":"Data frame","code":""},{"path":"https://ecodata1.github.io/hera/reference/get_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get data â€” get_data","text":"","code":"if (FALSE) { data <- get_data(location_id = 100) class <- assessment(data) }"},{"path":"https://ecodata1.github.io/hera/reference/hera.html","id":null,"dir":"Reference","previous_headings":"","what":"Hera â€” hera","title":"Hera â€” hera","text":"Validate, Predict Assess","code":""},{"path":"https://ecodata1.github.io/hera/reference/hera.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Hera â€” hera","text":"","code":"hera(data = NULL)"},{"path":"https://ecodata1.github.io/hera/reference/hera.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Hera â€” hera","text":"data Dataframe variables `hera` inter-change format","code":""},{"path":"https://ecodata1.github.io/hera/reference/hera.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Hera â€” hera","text":"Dataframe assessments","code":""},{"path":"https://ecodata1.github.io/hera/reference/hera.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Hera â€” hera","text":"assessment() assessment","code":""},{"path":"https://ecodata1.github.io/hera/reference/hera.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Hera â€” hera","text":"","code":"assessments <- hera(demo_data) #> Hello from hera, ...work in progress! #> Hello from hera, ...work in progress! #> Hello from hera, ...work in progress! #> Hello from hera, ...work in progress! #> Hello from hera, ...work in progress! #> Calculating indices... #> Hello from hera, ...work in progress! #> Hello from hera, ...work in progress! #> Hello from hera, ...work in progress! #> You provided data without predictor variables for Freshwater Invertebrate Model analysis #> Calculating predictions... #> You provided data without predictor variables for Fish Farm assessment analysis #> You provided data without predictor variables for rict analysis #> Calculating confidence... #> Calculating Assessment #> Calculating confidence..."},{"path":"https://ecodata1.github.io/hera/reference/hera_app.html","id":null,"dir":"Reference","previous_headings":"","what":"Open hera web app â€” hera_app","title":"Open hera web app â€” hera_app","text":"Open hera interactive shiny web app.","code":""},{"path":"https://ecodata1.github.io/hera/reference/hera_app.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Open hera web app â€” hera_app","text":"","code":"hera_app()"},{"path":"https://ecodata1.github.io/hera/reference/hera_app.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Open hera web app â€” hera_app","text":"hera_app() opens hera interactive shiny app.","code":""},{"path":"https://ecodata1.github.io/hera/reference/hera_app.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Open hera web app â€” hera_app","text":"","code":"if (FALSE) { hera_app() }"},{"path":"https://ecodata1.github.io/hera/reference/indices.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Observed Indices â€” indices","title":"Calculate Observed Indices â€” indices","text":"Calculates indices raw data prior predictions classification.","code":""},{"path":"https://ecodata1.github.io/hera/reference/indices.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Observed Indices â€” indices","text":"","code":"indices(data, name = NULL, catalogue = NULL)"},{"path":"https://ecodata1.github.io/hera/reference/indices.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Observed Indices â€” indices","text":"data Dataframe variables WFD inter-change format name Name assessment used catalogue Dataframe catalogue see `catalogue`","code":""},{"path":"https://ecodata1.github.io/hera/reference/indices.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Observed Indices â€” indices","text":"Dataframe predictions","code":""},{"path":"https://ecodata1.github.io/hera/reference/indices.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate Observed Indices â€” indices","text":"indices() calculates observed indices.","code":""},{"path":"https://ecodata1.github.io/hera/reference/indices.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Observed Indices â€” indices","text":"","code":"indices <- indices(demo_data) #> Hello from hera, ...work in progress! #> Hello from hera, ...work in progress! #> Calculating indices..."},{"path":"https://ecodata1.github.io/hera/reference/launch_app.html","id":null,"dir":"Reference","previous_headings":"","what":"Launch hera app â€” launch_app","title":"Launch hera app â€” launch_app","text":"Launches hera shiny app optional data `catalogue`.","code":""},{"path":"https://ecodata1.github.io/hera/reference/launch_app.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Launch hera app â€” launch_app","text":"","code":"launch_app(new_catalogue = NULL, data = NULL)"},{"path":"https://ecodata1.github.io/hera/reference/launch_app.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Launch hera app â€” launch_app","text":"new_catalogue Dataframe catalogue see `catalogue` data Dataframe variables WFD inter-change format","code":""},{"path":"https://ecodata1.github.io/hera/reference/launch_app.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Launch hera app â€” launch_app","text":"Shiny app","code":""},{"path":"https://ecodata1.github.io/hera/reference/launch_app.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Launch hera app â€” launch_app","text":"","code":"if (FALSE) { launch_app() }"},{"path":"https://ecodata1.github.io/hera/reference/prediction.html","id":null,"dir":"Reference","previous_headings":"","what":"Predict hera models â€” prediction","title":"Predict hera models â€” prediction","text":"Predicts hera model reference indices.","code":""},{"path":"https://ecodata1.github.io/hera/reference/prediction.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Predict hera models â€” prediction","text":"","code":"prediction(data = NULL, name = NULL, catalogue = NULL)"},{"path":"https://ecodata1.github.io/hera/reference/prediction.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Predict hera models â€” prediction","text":"data Dataframe variables WFD inter-change format name Name assessment predict. Default possible assessments. catalogue Dataframe catalogue see `catalogue`","code":""},{"path":"https://ecodata1.github.io/hera/reference/prediction.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Predict hera models â€” prediction","text":"Dataframe predictions","code":""},{"path":"https://ecodata1.github.io/hera/reference/prediction.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Predict hera models â€” prediction","text":"prediction() predicts model indices.","code":""},{"path":"https://ecodata1.github.io/hera/reference/prediction.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Predict hera models â€” prediction","text":"","code":"predictions <- prediction(demo_data) #> Hello from hera, ...work in progress! #> Hello from hera, ...work in progress! #> Hello from hera, ...work in progress! #> You provided data without predictor variables for Freshwater Invertebrate Model analysis #> Calculating predictions... #> You provided data without predictor variables for Fish Farm assessment analysis #> You provided data without predictor variables for rict analysis"},{"path":"https://ecodata1.github.io/hera/reference/validation.html","id":null,"dir":"Reference","previous_headings":"","what":"Validation â€” validation","title":"Validation â€” validation","text":"Validation input data.","code":""},{"path":"https://ecodata1.github.io/hera/reference/validation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validation â€” validation","text":"","code":"validation(data = NULL)"},{"path":"https://ecodata1.github.io/hera/reference/validation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validation â€” validation","text":"data Dataframe variables WFD inter-change format","code":""},{"path":"https://ecodata1.github.io/hera/reference/validation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validation â€” validation","text":"Dataframe validation messages","code":""},{"path":"https://ecodata1.github.io/hera/reference/validation.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Validation â€” validation","text":"validation() Validation","code":""},{"path":"https://ecodata1.github.io/hera/reference/validation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validation â€” validation","text":"","code":"validations <- validation(demo_data) #> Hello from hera, ...work in progress!"}]
